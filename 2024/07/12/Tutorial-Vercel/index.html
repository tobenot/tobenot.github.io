<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover" name="viewport"><meta name="description" content="Verceléƒ¨ç½²"><meta name="hexo-theme-A4" content="v1.8.9"><link rel="alternate icon" type="image/webp" href="/img/favicon.webp"><title>ä½œå®¶ä¹‹å±‹</title><link rel="stylesheet" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/highlight/style1.css"><link rel="stylesheet" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/a11y-dark.min.css"><link rel="stylesheet" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/reset.css"><link rel="stylesheet" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/markdown.css"><link rel="stylesheet" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/fonts.css"><link rel="stylesheet" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/waline.css"><link rel="stylesheet" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/ui.css"><link rel="stylesheet" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/style.css"><link rel="stylesheet" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/returnToTop.css"><link rel="stylesheet" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/unicons.css"><link rel="stylesheet" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/toc.css"><link rel="stylesheet" href="/css/returnToLastPage.css"><link rel="stylesheet" href="/css/lightgallery.min.css"><meta name="generator" content="Hexo 7.2.0"><link rel="alternate" href="/atom.xml" title="ä½œå®¶ä¹‹å±‹" type="application/atom+xml">
</head><body><div class="left-toc-container"><nav id="toc" class="bs-docs-sidebar"></nav></div><div class="paper"><div class="shadow-drop-2-bottom paper-main"><div class="header"><div class="header-container"><img style="width:56px;height:auto" alt="^-^" cache-control="max-age=86400" class="header-img" src="/img/favicon.webp" width="10%"><div class="header-content"><a class="logo" href="/">ä½œå®¶ä¹‹å±‹</a> <span class="description"></span></div></div><ul class="nav"><li><a href="/">ğŸŒŸæ‰‰é¡µ</a></li><li><a href="/list/">ğŸ“æ‰‹ç¨¿</a></li><li><a href="/about/">ğŸ¦‹ä½œè€…</a></li></ul></div><div class="post-main"><div class="post-main-title">Verceléƒ¨ç½²</div><div class="post-md"><ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Vercel"><span class="post-toc-text">Vercel</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Vercel-%E9%83%A8%E7%BD%B2%E5%A4%B1%E8%B4%A5%E9%97%AE%E9%A2%98"><span class="post-toc-text">Vercel éƒ¨ç½²å¤±è´¥é—®é¢˜</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%9B%B4%E6%8D%A2-Vercel-%E7%9A%84%E5%9C%B0%E5%9D%80%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84"><span class="post-toc-text">æ›´æ¢ Vercel çš„åœ°å€åˆ°è‡ªå·±çš„</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Vercel%E6%B5%81%E5%BC%8F%E5%93%8D%E5%BA%94"><span class="post-toc-text">Vercelæµå¼å“åº”</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E9%9D%9E%E6%B5%81%E5%BC%8F%E5%93%8D%E5%BA%94%E7%9A%84%E4%BB%A3%E7%A0%81"><span class="post-toc-text">éæµå¼å“åº”çš„ä»£ç </span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E6%B5%81%E5%BC%8F%E5%93%8D%E5%BA%94%E7%9A%84%E4%BB%A3%E7%A0%81"><span class="post-toc-text">æµå¼å“åº”çš„ä»£ç </span></a></li></ol></li></ol></li></ol><link rel="stylesheet" type="text/css" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css"><div class=".article-gallery"><h2 id="Vercel"><a href="#Vercel" class="headerlink" title="Vercel"></a>Vercel</h2><h3 id="Vercel-éƒ¨ç½²å¤±è´¥é—®é¢˜"><a href="#Vercel-éƒ¨ç½²å¤±è´¥é—®é¢˜" class="headerlink" title="Vercel éƒ¨ç½²å¤±è´¥é—®é¢˜"></a>Vercel éƒ¨ç½²å¤±è´¥é—®é¢˜</h3><p>éƒ¨ç½²å¤±è´¥æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>vercel --prod</code> å‘½ä»¤åœ¨å‘½ä»¤è¡ŒæŸ¥çœ‹é—®é¢˜ã€‚</p><h3 id="æ›´æ¢-Vercel-çš„åœ°å€åˆ°è‡ªå·±çš„"><a href="#æ›´æ¢-Vercel-çš„åœ°å€åˆ°è‡ªå·±çš„" class="headerlink" title="æ›´æ¢ Vercel çš„åœ°å€åˆ°è‡ªå·±çš„"></a>æ›´æ¢ Vercel çš„åœ°å€åˆ°è‡ªå·±çš„</h3><ol><li><p>è®¿é—® GName å®˜ç½‘ <a target="_blank" rel="noopener" href="https://www.gname.com/user#/admin_ym">My Domains - GNAME control panel</a>ã€‚</p></li><li><p>åœ¨è§£æè®¾ç½®ä¸­æ·»åŠ ä¸€æ¡è®°å½•ï¼š</p><ul><li>åç§°ï¼šanthuriumï¼ˆå¯ä»¥è‡ªå®šä¹‰ï¼‰</li><li>ç±»å‹ï¼šCNAMEï¼ˆå®æµ‹ A è®°å½•ä¹Ÿè¡Œï¼Œä½†å®˜æ–¹å»ºè®®ä½¿ç”¨ CNAMEï¼‰</li><li>å€¼ï¼š<code>vercel.com</code> æˆ– <code>76.76.21.21</code></li></ul></li><li><p>åœ¨ Vercel çš„éƒ¨ç½²æœåŠ¡å™¨é¢æ¿ä¸­ï¼Œè¿›å…¥ <code>Settings</code> -&gt; <code>Domains</code>ï¼Œå‡è®¾åŸŸåæ˜¯ <code>tobenot.top</code>ï¼Œè§£æåæ˜¯ <code>anthurium</code>ï¼Œé‚£ä¹ˆå°±æ·»åŠ ä¸€ä¸ª <code>anthurium.tobenot.top</code>ã€‚</p></li></ol><p>è¿™æ ·å°±å¯ä»¥å°†åŸæœ¬ä½ ä½¿ç”¨çš„ Vercel æœåŠ¡å™¨åœ°å€éƒ½æ¢æˆè¿™ä¸ªæ–°çš„åœ°å€äº†ã€‚</p><h3 id="Vercelæµå¼å“åº”"><a href="#Vercelæµå¼å“åº”" class="headerlink" title="Vercelæµå¼å“åº”"></a>Vercelæµå¼å“åº”</h3><h4 id="éæµå¼å“åº”çš„ä»£ç "><a href="#éæµå¼å“åº”çš„ä»£ç " class="headerlink" title="éæµå¼å“åº”çš„ä»£ç "></a>éæµå¼å“åº”çš„ä»£ç </h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title function_">axios</span>(&#123;</span><br><span class="line">    <span class="attr">method</span>: req.<span class="property">method</span>,</span><br><span class="line">    <span class="attr">url</span>: targetUrl,</span><br><span class="line">    <span class="attr">headers</span>: headers,</span><br><span class="line">    <span class="attr">data</span>: req.<span class="property">body</span></span><br><span class="line">&#125;);</span><br><span class="line">res.<span class="title function_">status</span>(response.<span class="property">status</span>).<span class="title function_">json</span>(response.<span class="property">data</span>);</span><br></pre></td></tr></table></figure><h4 id="æµå¼å“åº”çš„ä»£ç "><a href="#æµå¼å“åº”çš„ä»£ç " class="headerlink" title="æµå¼å“åº”çš„ä»£ç "></a>æµå¼å“åº”çš„ä»£ç </h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ£€æŸ¥æ˜¯å¦è¯·æ±‚æµå¼å“åº”</span></span><br><span class="line"><span class="keyword">if</span> (req.<span class="property">body</span> &amp;&amp; req.<span class="property">body</span>.<span class="property">stream</span> === <span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="comment">// è®¾ç½®å“åº”å¤´</span></span><br><span class="line">    res.<span class="title function_">writeHead</span>(<span class="number">200</span>, &#123;</span><br><span class="line">        <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;text/event-stream&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Cache-Control&#x27;</span>: <span class="string">&#x27;no-cache&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Connection&#x27;</span>: <span class="string">&#x27;keep-alive&#x27;</span></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»ºåˆ°ç›®æ ‡çš„è¯·æ±‚</span></span><br><span class="line">    <span class="keyword">const</span> response =<span class="keyword">await</span> <span class="title function_">axios</span>(&#123;</span><br><span class="line">        <span class="attr">method</span>: req.<span class="property">method</span>,</span><br><span class="line">        <span class="attr">url</span>: targetUrl,</span><br><span class="line">        <span class="attr">headers</span>: headers,</span><br><span class="line">        <span class="attr">data</span>: req.<span class="property">body</span>,</span><br><span class="line">        <span class="attr">responseType</span>: <span class="string">&#x27;stream&#x27;</span></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°†æµæ•°æ®ä¼ è¾“åˆ°å®¢æˆ·ç«¯</span></span><br><span class="line">    response.<span class="property">data</span>.<span class="title function_">on</span>(<span class="string">&#x27;data&#x27;</span>, <span class="function">(<span class="params">chunk</span>) =&gt;</span> &#123;</span><br><span class="line">        res.<span class="title function_">write</span>(chunk);</span><br><span class="line">    &#125;);</span><br><span class="line">    response.<span class="property">data</span>.<span class="title function_">on</span>(<span class="string">&#x27;end&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        res.<span class="title function_">end</span>();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// éæµå¼è¯·æ±‚çš„å¤„ç†ä¿æŒä¸å˜</span></span><br><span class="line">    <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title function_">axios</span>(&#123;</span><br><span class="line">        <span class="attr">method</span>: req.<span class="property">method</span>,</span><br><span class="line">        <span class="attr">url</span>: targetUrl,</span><br><span class="line">        <span class="attr">headers</span>: headers,</span><br><span class="line">        <span class="attr">data</span>: req.<span class="property">body</span></span><br><span class="line">    &#125;);</span><br><span class="line">    res.<span class="title function_">status</span>(response.<span class="property">status</span>).<span class="title function_">json</span>(response.<span class="property">data</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/lightgallery.min.js"></script><script>if("undefined"!=typeof lightGallery){var options={selector:".gallery-item"};lightGallery(document.getElementsByClassName(".article-gallery")[0],options)}</script></div><div class="post-meta"><i><span>2024-07-12</span> <span>è¯¥ç¯‡æ–‡ç« è¢« tobenot</span> <span>æ‰“ä¸Šæ ‡ç­¾: <a href="/tags/%E6%8A%80%E6%9C%AF/">æŠ€æœ¯ </a><a href="/tags/%E7%A2%8E%E7%89%87/">ç¢ç‰‡ </a><a href="/tags/Vercel/">Vercel </a></span><span>å½’ä¸ºåˆ†ç±»: <a href="/categories/%E6%8A%80%E6%9C%AF/">æŠ€æœ¯</a></span></i></div><br><div class="comments-container"><div id="comment-anchor"></div><div class="comment-area-title">è¯„è®º</div><div id="waline"></div><script type="module">import{init}from"https://npm.elemecdn.com/hexo-theme-a4@latest/source/js/waline.mjs";function loadWaline(){init({el:"#waline",serverURL:"https://mail.tobenot.top/",lang:"zh-CN",dark:'body[class~="dark-mode"]',requiredMeta:["nick","mail"],search:!1,reaction:!1,pageview:!1,comment:!1,locale:{placeholder:"ä¹Ÿè®¸ä»ä¸€ä¸ªé—®é¢˜å¼€å§‹ï¼Œæ‰æœ‰ç­”æ¡ˆã€‚",sofa:""}})}window.addEventListener("DOMContentLoaded",loadWaline)</script></div></div><div class="footer"><span>Â© 2023-2024 China / <a href="/friends/">å‹é“¾</a></span></div><div class="footer-last"><span>æ˜Ÿç•Œ</span> <span class="footer-last-span-right"><i>æœ¬ç«™ç”±<a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/index.html">Hexo</a>é©±åŠ¨ï½œä½¿ç”¨<a target="_blank" rel="noopener" href="https://github.com/HiNinoJay/hexo-theme-A4">Hexo-theme-A4</a>ä¸»é¢˜</i></span></div><script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/highlight.min.js"></script><script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/highlightjs-line-numbers.js"></script><script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/randomHeaderContent.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script><script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/returnToTop.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/javascripts/jquery.tocify.min.js" type="text/javascript"></script><script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/toc.js"></script><script src="/js/lightgallery.min.js"></script></div><div class="progress-wrap shadow-drop-2-bottom"><svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102"><path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/></svg></div><div class="return-to-last-progress-wrap shadow-drop-2-bottom"><svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102"><path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/></svg></div></div></body><script src="/js/darkmode-js.min.js"></script><script>function addDarkmodeWidget(){new Darkmode({bottom:"53px",right:"unset",left:"42px",time:"0.3s",mixColor:"#fff",backgroundColor:" #e4e4e4 ",buttonColorDark:"#100f2c",buttonColorLight:"#fff",saveInCookies:!0,label:"ğŸŒ“",autoMatchOsTheme:!0}).showWidget()}window.addEventListener("load",addDarkmodeWidget)</script></html>