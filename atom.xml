<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>作家之屋</title>
  
  
  <link href="https://tobenot.github.io/atom.xml" rel="self"/>
  
  <link href="https://tobenot.github.io/"/>
  <updated>2024-09-22T17:18:40.396Z</updated>
  <id>https://tobenot.github.io/</id>
  
  <author>
    <name>tobenot</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>COT——思维链的极限</title>
    <link href="https://tobenot.github.io/2024/09/22/Dev-Think-Limits-Of-COT/"/>
    <id>https://tobenot.github.io/2024/09/22/Dev-Think-Limits-Of-COT/</id>
    <published>2024-09-22T14:00:24.000Z</published>
    <updated>2024-09-22T17:18:40.396Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css" /><div class=".article-gallery"><p>在大模型领域,COT(Chain of Thought,思维链)技术是提示词工程的常见方法.<br>简单来说就是多想几步。<br>一个常见COT示例：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">思考过程：</span><br><span class="line">   a. 理解问题：仔细阅读问题描述，确保完全理解问题的要求和给定的信息。</span><br><span class="line">   b. 分解问题：将复杂问题拆分成更小、更容易管理的子问题。</span><br><span class="line">   c. 制定策略：根据问题的性质和已知信息，选择合适的解决方法或算法。</span><br><span class="line">   d. 执行计划：按照制定的策略逐步解决问题，记录每一步的推理过程。</span><br><span class="line">   e. 验证结果：检查最终答案是否符合问题要求，并回顾整个解决过程是否合理。</span><br></pre></td></tr></table></figure><p>如果不使用COT的话，相当于：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">思考过程：</span><br><span class="line">   a. 输出答案：写吧</span><br></pre></td></tr></table></figure><p>不用说，使用长COT肯定是能提升智力的，相对的回复速度和消耗的tokens量会增大<br>用时间换质量</p><h2 id="COT的优势与局限"><a href="#COT的优势与局限" class="headerlink" title="COT的优势与局限"></a>COT的优势与局限</h2><p>COT允许AI模型像人类一样,通过步骤化思考来解决复杂问题。这种方法在数学推理、逻辑分析等领域表现出色。但是,COT也面临着以下限制:</p><ol><li>复杂性瓶颈: COT能提升的智力也是有限的，每个模型的注意力就那么多，想太多会忘事，人类尚且如此。<a href="https://arxiv.org/abs/1706.03762">Attention Is All You Need</a>。</li><li>领域局限性: 有些问题上COT也难解决，比如计算准确性，不可能让大模型直接做数学运算，或者位运算。</li><li>错误累积: 长链推理中的微小错误可能会在后续步骤中被放大,导致最终结果偏离正确答案。</li></ol><p>为什么写这篇文章呢？<br>因为我在做Beyond Books，有个特殊事件触发，我想下放给每个Agent自己去判断，结果发现在评估条件、触发条件上，角色就像是决策带宽已经占满了，就做不好，特别是数学敏感的条件。<br>其实也就是Agent自己思考的COT已经带宽不够了，只是它还限于文学性的时候问题还没暴露出来。</p><p>但是事实上我感觉不对<br>好像是我对“特殊事件”的理解与大模型不同，它不是一个阶段性的东西，而是一个触发式的东西，就是到达条件，就加点什么影响因素进来。它不是一个持续性的东西，而大模型可能认为需要进行阶段管理，所以它会迟迟不肯触发事件。specialEvents</p><p>和sonnet的对话记录：<br>我发现大模型很难理解这个“特殊事件触发”的逻辑，对于COT里面的currentProgress经常牛头不对马嘴</p><p>我理解您的担忧。确实，大模型可能在处理复杂的逻辑结构时会遇到困难，尤其是在理解和生成特定格式的数据时。针对这个问题，我们可以对代码进行一些调整，以简化逻辑并提高模型的理解能力。以下是一些建议：<br>。。。<br>特殊事件列表：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$&#123;specialEvents.<span class="title function_">filter</span>(<span class="function"><span class="params">event</span> =&gt;</span> !event.<span class="property">consumed</span>).<span class="title function_">map</span>(<span class="function"><span class="params">event</span> =&gt;</span> <span class="string">`</span></span><br><span class="line"><span class="string">- ID: <span class="subst">$&#123;event.id&#125;</span></span></span><br><span class="line"><span class="string">  触发条件: <span class="subst">$&#123;event.triggerCondition&#125;</span></span></span><br><span class="line"><span class="string">  当前进度: [未开始/进行中/即将触发/已触发]（请选择一个）`</span>).<span class="title function_">join</span>(<span class="string">&#x27;\n&#x27;</span>)&#125;</span><br></pre></td></tr></table></figure><p>。。。<br>我们简化了currentProgress的描述，使用更直观的状态描述，如”未开始”、”进行中”、”即将触发”和”已触发”。</p><p>实际上我这些事件是单次触发式的，不是一个有阶段管理需求的东西。更像是“到了这个条件，就添加一些新内容进来”这种逻辑，我是不是命名让人误解了？</p><p>然后我发现<br>我把specialEvents的命名改成plotTriggers<br>bug就修好了，大模型突然理解currentProgress要填“触发条件满足的进度”了<br><a href="/img/Dev-Think-Limits-Of-COT/Image-Dev-Think-Limits-Of-COT.png" class="gallery-item" style="box-shadow: none;"> <img src="/img/Dev-Think-Limits-Of-COT/Image-Dev-Think-Limits-Of-COT.png" width="300"></a></p><p>类似问题还有：<br>大模型觉得时停抗性：无 是“不被时停影响”</p></div><script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css&quot; /&gt;&lt;div cla</summary>
      
    
    
    
    <category term="LLM" scheme="https://tobenot.github.io/categories/LLM/"/>
    
    
    <category term="LLM" scheme="https://tobenot.github.io/tags/LLM/"/>
    
    <category term="AI思维" scheme="https://tobenot.github.io/tags/AI%E6%80%9D%E7%BB%B4/"/>
    
    <category term="技术探讨" scheme="https://tobenot.github.io/tags/%E6%8A%80%E6%9C%AF%E6%8E%A2%E8%AE%A8/"/>
    
    <category term="COT" scheme="https://tobenot.github.io/tags/COT/"/>
    
  </entry>
  
  <entry>
    <title>JS大模型基础实践(含Structured Outputs)</title>
    <link href="https://tobenot.github.io/2024/09/22/Tutorial-LLM-Practice-JS/"/>
    <id>https://tobenot.github.io/2024/09/22/Tutorial-LLM-Practice-JS/</id>
    <published>2024-09-22T08:34:36.000Z</published>
    <updated>2024-09-22T09:32:17.409Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css" /><div class=".article-gallery"><h1 id="JS大模型基础实践-含Structured-Outputs"><a href="#JS大模型基础实践-含Structured-Outputs" class="headerlink" title="JS大模型基础实践(含Structured Outputs)"></a>JS大模型基础实践(含Structured Outputs)</h1><h2 id="1-引言"><a href="#1-引言" class="headerlink" title="1. 引言"></a>1. 引言</h2><p>昨天在做<a href="https://tobenot.top/Beyond-Books/">Beyond Books 不止于纸上的故事</a>的多Agent、流式返回、<a href="https://platform.openai.com/docs/guides/structured-outputs/introduction">Structured Outputs（结构化输出）</a>的时候（现在还在分支开发，没提主干），在网上找了好久。<br>所以在此留下一些很标准的JS的GPT调用代码。<br>传统的、流式、json、结构化输出都有。</p><h2 id="2-环境准备"><a href="#2-环境准备" class="headerlink" title="2. 环境准备"></a>2. 环境准备</h2><ul><li>纯html，有个浏览器就行。新建一个文件夹，改后缀html，往里面塞示例代码，填入API Key和地址之后双击html就能用。</li><li>只要扔给AI，就可以方便地写进其他项目里，比如我的<a href="https://tobenot.top/Beyond-Books/">Beyond Books 不止于纸上的故事</a></li></ul><h2 id="3-如果你还没有大模型API"><a href="#3-如果你还没有大模型API" class="headerlink" title="3. 如果你还没有大模型API"></a>3. 如果你还没有大模型API</h2><p>这篇给你准备了超新手的教程</p><ul><li>选择合适的LLM服务提供商<ul><li>官方<ul><li>比较麻烦</li></ul></li><li>第三方 <a href="https://deepbricks.ai/">https://deepbricks.ai/</a><ul><li>比较便宜，但比较慢</li></ul></li></ul></li><li>拿到API keys就可以玩了</li><li>下面的示例中，把YOUR_API_KEY替换为你的API_KEY，把YOUR_API_URL替换为你的API_URL<br>有啥坑：比如这家 <a href="https://www.gptapi.us/register?aff=qrbV">gptapi</a> CORS没配置好，本地以及一些自部署的环境API连接不到它</li></ul><p>注：官方API文档 <a href="https://platform.openai.com/docs/api-reference/chat/create">https://platform.openai.com/docs/api-reference/chat/create</a></p><h2 id="4-介绍与示例"><a href="#4-介绍与示例" class="headerlink" title="4. 介绍与示例"></a>4. 介绍与示例</h2><h3 id="传统"><a href="#传统" class="headerlink" title="传统"></a>传统</h3><p>就是你来我往的整块回复。<br>用习惯网页端的朋友们注意了，API基本都是无状态的，不会维护会话历史，这历史从来都是自己存的。<br>网页端只是帮忙存而已。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;zh&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>OpenAI 聊天<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">body</span> &#123; <span class="attribute">font-family</span>: Arial, sans-serif; <span class="attribute">max-width</span>: <span class="number">800px</span>; <span class="attribute">margin</span>: <span class="number">0</span> auto; <span class="attribute">padding</span>: <span class="number">20px</span>; &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#chat</span> &#123; <span class="attribute">height</span>: <span class="number">400px</span>; <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>; <span class="attribute">overflow-y</span>: scroll; <span class="attribute">padding</span>: <span class="number">10px</span>; <span class="attribute">margin-bottom</span>: <span class="number">10px</span>; &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#userInput</span> &#123; <span class="attribute">width</span>: <span class="number">100%</span>; <span class="attribute">padding</span>: <span class="number">5px</span>; &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#sendButton</span> &#123; <span class="attribute">margin-top</span>: <span class="number">10px</span>; &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>OpenAI 聊天<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;chat&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;userInput&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;输入您的消息...&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;sendButton&quot;</span>&gt;</span>发送<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> chatDiv = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;chat&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> userInput = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;userInput&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> sendButton = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;sendButton&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 请在这里替换为您的 OpenAI API 密钥</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> <span class="variable constant_">API_KEY</span> = <span class="variable constant_">YOUR_API_KEY</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> <span class="variable constant_">API_URL</span> = <span class="variable constant_">YOUR_API_URL</span> + <span class="string">&quot;/v1/chat/completions&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> <span class="variable constant_">MODEL</span> = <span class="string">&#x27;gpt-4o-mini&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        sendButton.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, sendMessage);</span></span><br><span class="line"><span class="language-javascript">        userInput.<span class="title function_">addEventListener</span>(<span class="string">&#x27;keypress&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (e.<span class="property">key</span> === <span class="string">&#x27;Enter&#x27;</span>) <span class="title function_">sendMessage</span>();</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">class</span> <span class="title class_">AIService</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">static</span> <span class="keyword">async</span> <span class="title function_">callLargeLanguageModel</span>(<span class="params">prompt</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[DEBUG] 开始调用大语言模型，提示词: <span class="subst">$&#123;prompt&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[DEBUG] API_URL: <span class="subst">$&#123;API_URL&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[DEBUG] MODEL: <span class="subst">$&#123;MODEL&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript">                </span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> requestBody = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123; </span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">model</span>: <span class="variable constant_">MODEL</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">messages</span>: [&#123; <span class="attr">role</span>: <span class="string">&quot;user&quot;</span>, <span class="attr">content</span>: prompt &#125;],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">max_tokens</span>: <span class="number">1000</span></span></span><br><span class="line"><span class="language-javascript">                &#125;);</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[DEBUG] 请求体: <span class="subst">$&#123;requestBody&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">try</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[DEBUG] 发送API请求...`</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="variable constant_">API_URL</span>, &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">headers</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="string">&#x27;Authorization&#x27;</span>: <span class="string">`Bearer <span class="subst">$&#123;API_KEY&#125;</span>`</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="string">&#x27;Accept&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">body</span>: requestBody,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">credentials</span>: <span class="string">&#x27;include&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[DEBUG] 收到API响应，状态码: <span class="subst">$&#123;response.status&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (!response.<span class="property">ok</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`[ERROR] API请求失败: <span class="subst">$&#123;response.status&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">`API 请求失败: <span class="subst">$&#123;response.status&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> data = <span class="keyword">await</span> response.<span class="title function_">json</span>();</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[DEBUG] API响应数据: <span class="subst">$&#123;<span class="built_in">JSON</span>.stringify(data)&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> content = data.<span class="property">choices</span>[<span class="number">0</span>].<span class="property">message</span>.<span class="property">content</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[DEBUG] 模型返回内容长度: <span class="subst">$&#123;content.length&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> content;</span></span><br><span class="line"><span class="language-javascript">                &#125; <span class="keyword">catch</span> (error) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`[ERROR] 调用大语言模型时发生错误: <span class="subst">$&#123;error.message&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">throw</span> error;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">sendMessage</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> message = userInput.<span class="property">value</span>.<span class="title function_">trim</span>();</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (message) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">appendMessage</span>(<span class="string">&#x27;用户: &#x27;</span> + message);</span></span><br><span class="line"><span class="language-javascript">                userInput.<span class="property">value</span> = <span class="string">&#x27;&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">try</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title class_">AIService</span>.<span class="title function_">callLargeLanguageModel</span>(message);</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">appendMessage</span>(<span class="string">&#x27;助手: &#x27;</span> + response);</span></span><br><span class="line"><span class="language-javascript">                &#125; <span class="keyword">catch</span> (error) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;错误:&#x27;</span>, error);</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">appendMessage</span>(<span class="string">&#x27;助手: 抱歉，发生了错误。&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">appendMessage</span>(<span class="params">message</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> messageDiv = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">            messageDiv.<span class="property">textContent</span> = message;</span></span><br><span class="line"><span class="language-javascript">            chatDiv.<span class="title function_">appendChild</span>(messageDiv);</span></span><br><span class="line"><span class="language-javascript">            chatDiv.<span class="property">scrollTop</span> = chatDiv.<span class="property">scrollHeight</span>;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="流式"><a href="#流式" class="headerlink" title="流式"></a>流式</h3><p>比较丝滑，可以在响应的一开始就开始显示。<br>问题就是不太能json格式化解析，适合做思维链的最后一个显示端。<br>就是到最后一步的时候不用json格式解析了，就让GPT流式返回。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;zh&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>OpenAI 流式回复聊天<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">body</span> &#123; <span class="attribute">font-family</span>: Arial, sans-serif; <span class="attribute">max-width</span>: <span class="number">800px</span>; <span class="attribute">margin</span>: <span class="number">0</span> auto; <span class="attribute">padding</span>: <span class="number">20px</span>; &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#chat</span> &#123; <span class="attribute">height</span>: <span class="number">400px</span>; <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>; <span class="attribute">overflow-y</span>: scroll; <span class="attribute">padding</span>: <span class="number">10px</span>; <span class="attribute">margin-bottom</span>: <span class="number">10px</span>; &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#userInput</span> &#123; <span class="attribute">width</span>: <span class="number">100%</span>; <span class="attribute">padding</span>: <span class="number">5px</span>; &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#sendButton</span> &#123; <span class="attribute">margin-top</span>: <span class="number">10px</span>; &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>OpenAI 流式回复聊天<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;chat&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;userInput&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;输入您的消息...&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;sendButton&quot;</span>&gt;</span>发送<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> chatDiv = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;chat&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> userInput = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;userInput&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> sendButton = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;sendButton&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 请在这里替换为您的 OpenAI API 密钥</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> <span class="variable constant_">OPENAI_API_KEY</span> = <span class="variable constant_">YOUR_API_KEY</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        sendButton.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, sendMessage);</span></span><br><span class="line"><span class="language-javascript">        userInput.<span class="title function_">addEventListener</span>(<span class="string">&#x27;keypress&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (e.<span class="property">key</span> === <span class="string">&#x27;Enter&#x27;</span>) <span class="title function_">sendMessage</span>();</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">sendMessage</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> message = userInput.<span class="property">value</span>.<span class="title function_">trim</span>();</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (message) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">appendMessage</span>(<span class="string">&#x27;用户: &#x27;</span> + message);</span></span><br><span class="line"><span class="language-javascript">                userInput.<span class="property">value</span> = <span class="string">&#x27;&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">try</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="variable constant_">YOUR_API_URL</span> + <span class="string">&quot;/v1/chat/completions&quot;</span>, &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">headers</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="string">&#x27;Authorization&#x27;</span>: <span class="string">`Bearer <span class="subst">$&#123;OPENAI_API_KEY&#125;</span>`</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">body</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">model</span>: <span class="string">&#x27;gpt-3.5-turbo&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">messages</span>: [&#123; <span class="attr">role</span>: <span class="string">&#x27;user&#x27;</span>, <span class="attr">content</span>: message &#125;],</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">stream</span>: <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;)</span></span><br><span class="line"><span class="language-javascript">                    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> reader = response.<span class="property">body</span>.<span class="title function_">getReader</span>();</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> decoder = <span class="keyword">new</span> <span class="title class_">TextDecoder</span>(<span class="string">&#x27;utf-8&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">let</span> buffer = <span class="string">&#x27;&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">let</span> assistantResponse = <span class="string">&#x27;&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">const</span> &#123; done, value &#125; = <span class="keyword">await</span> reader.<span class="title function_">read</span>();</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">if</span> (done) <span class="keyword">break</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                        buffer += decoder.<span class="title function_">decode</span>(value, &#123;<span class="attr">stream</span>: <span class="literal">true</span>&#125;);</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">const</span> lines = buffer.<span class="title function_">split</span>(<span class="string">&#x27;\n&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                        </span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; lines.<span class="property">length</span> - <span class="number">1</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">const</span> line = lines[i];</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">if</span> (line.<span class="title function_">startsWith</span>(<span class="string">&#x27;data: &#x27;</span>)) &#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="keyword">const</span> jsonStr = line.<span class="title function_">slice</span>(<span class="number">6</span>);</span></span><br><span class="line"><span class="language-javascript">                                <span class="keyword">if</span> (jsonStr === <span class="string">&#x27;[DONE]&#x27;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                                    <span class="keyword">break</span>;</span></span><br><span class="line"><span class="language-javascript">                                &#125;</span></span><br><span class="line"><span class="language-javascript">                                <span class="keyword">try</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                                    <span class="keyword">const</span> data = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(jsonStr);</span></span><br><span class="line"><span class="language-javascript">                                    <span class="keyword">if</span> (data.<span class="property">choices</span> &amp;&amp; data.<span class="property">choices</span>[<span class="number">0</span>].<span class="property">delta</span>.<span class="property">content</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                                        assistantResponse += data.<span class="property">choices</span>[<span class="number">0</span>].<span class="property">delta</span>.<span class="property">content</span>;</span></span><br><span class="line"><span class="language-javascript">                                        <span class="title function_">updateAssistantMessage</span>(assistantResponse);</span></span><br><span class="line"><span class="language-javascript">                                    &#125;</span></span><br><span class="line"><span class="language-javascript">                                &#125; <span class="keyword">catch</span> (e) &#123;</span></span><br><span class="line"><span class="language-javascript">                                    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;JSON解析错误:&#x27;</span>, e);</span></span><br><span class="line"><span class="language-javascript">                                &#125;</span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                        buffer = lines[lines.<span class="property">length</span> - <span class="number">1</span>];</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125; <span class="keyword">catch</span> (error) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;错误:&#x27;</span>, error);</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">appendMessage</span>(<span class="string">&#x27;助手: 抱歉，发生了错误。&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">appendMessage</span>(<span class="params">message</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> messageDiv = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">            messageDiv.<span class="property">textContent</span> = message;</span></span><br><span class="line"><span class="language-javascript">            chatDiv.<span class="title function_">appendChild</span>(messageDiv);</span></span><br><span class="line"><span class="language-javascript">            chatDiv.<span class="property">scrollTop</span> = chatDiv.<span class="property">scrollHeight</span>;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">updateAssistantMessage</span>(<span class="params">message</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> lastMessage = chatDiv.<span class="property">lastElementChild</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (lastMessage &amp;&amp; lastMessage.<span class="property">textContent</span>.<span class="title function_">startsWith</span>(<span class="string">&#x27;助手: &#x27;</span>)) &#123;</span></span><br><span class="line"><span class="language-javascript">                lastMessage.<span class="property">textContent</span> = <span class="string">&#x27;助手: &#x27;</span> + message;</span></span><br><span class="line"><span class="language-javascript">            &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">appendMessage</span>(<span class="string">&#x27;助手: &#x27;</span> + message);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            chatDiv.<span class="property">scrollTop</span> = chatDiv.<span class="property">scrollHeight</span>;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="json"><a href="#json" class="headerlink" title="json"></a>json</h3><p>古老的json格式化回复，问题是有时候不太遵循，可能会漏字段，或者字段顺序乱了。<br>特别是多轮对话的时候，GPT很容易被对话历史带跑，对于压缩的对话历史就更是如此了。<br>现在有了结构化输出，一般都不用这个json模式了。<br>更古老的时候没有response_format: { type: “json_object” }，它甚至连json格式都不太能正确了，还得修复（比如冷不防起手三个反引号）。<br>现在好像sonnet那些模型支持json很麻烦。如果你在使用一个没有json模式的模型，可以在思维链后面接上4o-mini的结构化输出。</p><p>这示例里是解析出了display，所以看着还跟传统的一样，你可以问ai怎么加字段，比如加个好感度变化什么的就能做虚拟恋人了。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;zh&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>OpenAI JSON格式回复聊天<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">body</span> &#123; <span class="attribute">font-family</span>: Arial, sans-serif; <span class="attribute">max-width</span>: <span class="number">800px</span>; <span class="attribute">margin</span>: <span class="number">0</span> auto; <span class="attribute">padding</span>: <span class="number">20px</span>; &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#chat</span> &#123; <span class="attribute">height</span>: <span class="number">400px</span>; <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>; <span class="attribute">overflow-y</span>: scroll; <span class="attribute">padding</span>: <span class="number">10px</span>; <span class="attribute">margin-bottom</span>: <span class="number">10px</span>; &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#userInput</span> &#123; <span class="attribute">width</span>: <span class="number">100%</span>; <span class="attribute">padding</span>: <span class="number">5px</span>; &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#sendButton</span> &#123; <span class="attribute">margin-top</span>: <span class="number">10px</span>; &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>OpenAI JSON格式回复聊天<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;chat&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;userInput&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;输入您的消息...&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;sendButton&quot;</span>&gt;</span>发送<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> chatDiv = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;chat&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> userInput = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;userInput&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> sendButton = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;sendButton&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> <span class="variable constant_">API_KEY</span> = <span class="variable constant_">YOUR_API_KEY</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> <span class="variable constant_">API_URL</span> = <span class="variable constant_">YOUR_API_URL</span> + <span class="string">&quot;/v1/chat/completions&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> <span class="variable constant_">MODEL</span> = <span class="string">&#x27;gpt-4o-mini&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> <span class="variable constant_">SYSTEM_PROMPT</span> = <span class="string">&quot;你是一个友好的AI助手。请以JSON格式回复，包含&#x27;display&#x27;字段用于显示给用户的内容。&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        sendButton.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, sendMessage);</span></span><br><span class="line"><span class="language-javascript">        userInput.<span class="title function_">addEventListener</span>(<span class="string">&#x27;keypress&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (e.<span class="property">key</span> === <span class="string">&#x27;Enter&#x27;</span>) <span class="title function_">sendMessage</span>();</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">class</span> <span class="title class_">AIService</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">static</span> <span class="keyword">async</span> <span class="title function_">callLargeLanguageModel</span>(<span class="params">userMessage</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[DEBUG] 开始调用大语言模型，用户消息: <span class="subst">$&#123;userMessage&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[DEBUG] API_URL: <span class="subst">$&#123;API_URL&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[DEBUG] MODEL: <span class="subst">$&#123;MODEL&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript">                </span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> requestBody = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123; </span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">model</span>: <span class="variable constant_">MODEL</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">messages</span>: [</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">role</span>: <span class="string">&quot;system&quot;</span>, <span class="attr">content</span>: <span class="variable constant_">SYSTEM_PROMPT</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">role</span>: <span class="string">&quot;user&quot;</span>, <span class="attr">content</span>: userMessage &#125;</span></span><br><span class="line"><span class="language-javascript">                    ],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">max_tokens</span>: <span class="number">1000</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">response_format</span>: &#123; <span class="attr">type</span>: <span class="string">&quot;json_object&quot;</span> &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;);</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[DEBUG] 请求体: <span class="subst">$&#123;requestBody&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">try</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[DEBUG] 发送API请求...`</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="variable constant_">API_URL</span>, &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">headers</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="string">&#x27;Authorization&#x27;</span>: <span class="string">`Bearer <span class="subst">$&#123;API_KEY&#125;</span>`</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="string">&#x27;Accept&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">body</span>: requestBody,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">credentials</span>: <span class="string">&#x27;include&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[DEBUG] 收到API响应，状态码: <span class="subst">$&#123;response.status&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (!response.<span class="property">ok</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`[ERROR] API请求失败: <span class="subst">$&#123;response.status&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">`API 请求失败: <span class="subst">$&#123;response.status&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> data = <span class="keyword">await</span> response.<span class="title function_">json</span>();</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[DEBUG] API响应数据: <span class="subst">$&#123;<span class="built_in">JSON</span>.stringify(data)&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> content = data.<span class="property">choices</span>[<span class="number">0</span>].<span class="property">message</span>.<span class="property">content</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[DEBUG] 模型返回内容长度: <span class="subst">$&#123;content.length&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="title class_">JSON</span>.<span class="title function_">parse</span>(content);</span></span><br><span class="line"><span class="language-javascript">                &#125; <span class="keyword">catch</span> (error) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`[ERROR] 调用大语言模型时发生错误: <span class="subst">$&#123;error.message&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">throw</span> error;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">sendMessage</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> message = userInput.<span class="property">value</span>.<span class="title function_">trim</span>();</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (message) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">appendMessage</span>(<span class="string">&#x27;用户: &#x27;</span> + message);</span></span><br><span class="line"><span class="language-javascript">                userInput.<span class="property">value</span> = <span class="string">&#x27;&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">try</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title class_">AIService</span>.<span class="title function_">callLargeLanguageModel</span>(message);</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">appendMessage</span>(<span class="string">&#x27;助手: &#x27;</span> + response.<span class="property">display</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125; <span class="keyword">catch</span> (error) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;错误:&#x27;</span>, error);</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">appendMessage</span>(<span class="string">&#x27;助手: 抱歉，发生了错误。&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">appendMessage</span>(<span class="params">message</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> messageDiv = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">            messageDiv.<span class="property">textContent</span> = message;</span></span><br><span class="line"><span class="language-javascript">            chatDiv.<span class="title function_">appendChild</span>(messageDiv);</span></span><br><span class="line"><span class="language-javascript">            chatDiv.<span class="property">scrollTop</span> = chatDiv.<span class="property">scrollHeight</span>;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="结构化输出"><a href="#结构化输出" class="headerlink" title="结构化输出"></a>结构化输出</h3><p>结构化输出能保证输出是json格式，完全符合你定义的schema的json格式。<br>输出的顺序也是确定的按照你key给的顺序。</p><p>Open AI的伟大发明。<a href="https://platform.openai.com/docs/guides/structured-outputs/introduction">文档链接</a>。<br>这个只有4o和4o-mini能用。4tubro那些还是只能用json模式。<br>o1不支持，o1它是个Agent，连json模式都不支持。</p><p>有个坑，description不会影响输出，纯纯是给你看的注释<br>已经试过了，你可以试试</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">TEST_SCHEMA</span> = &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&quot;object&quot;</span>,</span><br><span class="line">    <span class="attr">properties</span>: &#123;</span><br><span class="line">        <span class="attr">test</span>: &#123; </span><br><span class="line">            <span class="attr">type</span>: <span class="string">&quot;string&quot;</span>,</span><br><span class="line">            <span class="attr">description</span>: <span class="string">&quot;在这个字段，你必须输出“在测试哦”。&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">required</span>: [<span class="string">&quot;test&quot;</span>],</span><br><span class="line">    <span class="attr">additionalProperties</span>: <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后看它瞎回复。</p><p>下面其实是官方示例的JavaScript版。可以问AI改成别的，或者拿着这个去改造古老的json模式。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;zh&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>OpenAI 结构化输出聊天<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">body</span> &#123; <span class="attribute">font-family</span>: Arial, sans-serif; <span class="attribute">max-width</span>: <span class="number">800px</span>; <span class="attribute">margin</span>: <span class="number">0</span> auto; <span class="attribute">padding</span>: <span class="number">20px</span>; &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#chat</span> &#123; <span class="attribute">height</span>: <span class="number">400px</span>; <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>; <span class="attribute">overflow-y</span>: scroll; <span class="attribute">padding</span>: <span class="number">10px</span>; <span class="attribute">margin-bottom</span>: <span class="number">10px</span>; &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#userInput</span> &#123; <span class="attribute">width</span>: <span class="number">100%</span>; <span class="attribute">padding</span>: <span class="number">5px</span>; &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#sendButton</span> &#123; <span class="attribute">margin-top</span>: <span class="number">10px</span>; &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>OpenAI 结构化输出聊天<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;chat&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;userInput&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;输入您的消息...&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;sendButton&quot;</span>&gt;</span>发送<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> chatDiv = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;chat&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> userInput = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;userInput&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> sendButton = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;sendButton&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> <span class="variable constant_">API_KEY</span> = <span class="variable constant_">YOUR_API_KEY</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> <span class="variable constant_">API_URL</span> = <span class="variable constant_">YOUR_API_URL</span> + <span class="string">&quot;/v1/chat/completions&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> <span class="variable constant_">MODEL</span> = <span class="string">&#x27;gpt-4o-mini&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> <span class="variable constant_">SYSTEM_PROMPT</span> = <span class="string">&quot;你是一个友好的数学辅导员。请逐步引导用户解决问题。&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> <span class="variable constant_">OUTPUT_SCHEMA</span> = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">type</span>: <span class="string">&quot;object&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">properties</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">steps</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>: <span class="string">&quot;array&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">items</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">type</span>: <span class="string">&quot;object&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">properties</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">explanation</span>: &#123; <span class="attr">type</span>: <span class="string">&quot;string&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">output</span>: &#123; <span class="attr">type</span>: <span class="string">&quot;string&quot;</span> &#125;</span></span><br><span class="line"><span class="language-javascript">                        &#125;,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">required</span>: [<span class="string">&quot;explanation&quot;</span>, <span class="string">&quot;output&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">additionalProperties</span>: <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">final_answer</span>: &#123; <span class="attr">type</span>: <span class="string">&quot;string&quot;</span> &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">required</span>: [<span class="string">&quot;steps&quot;</span>, <span class="string">&quot;final_answer&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">additionalProperties</span>: <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">        &#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        sendButton.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, sendMessage);</span></span><br><span class="line"><span class="language-javascript">        userInput.<span class="title function_">addEventListener</span>(<span class="string">&#x27;keypress&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (e.<span class="property">key</span> === <span class="string">&#x27;Enter&#x27;</span>) <span class="title function_">sendMessage</span>();</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">class</span> <span class="title class_">AIService</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">static</span> <span class="keyword">async</span> <span class="title function_">callLargeLanguageModel</span>(<span class="params">userMessage</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[DEBUG] 开始调用大语言模型，用户消息: <span class="subst">$&#123;userMessage&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[DEBUG] API_URL: <span class="subst">$&#123;API_URL&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[DEBUG] MODEL: <span class="subst">$&#123;MODEL&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript">                </span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> requestBody = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123; </span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">model</span>: <span class="variable constant_">MODEL</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">messages</span>: [</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">role</span>: <span class="string">&quot;system&quot;</span>, <span class="attr">content</span>: <span class="variable constant_">SYSTEM_PROMPT</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">role</span>: <span class="string">&quot;user&quot;</span>, <span class="attr">content</span>: userMessage &#125;</span></span><br><span class="line"><span class="language-javascript">                    ],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">response_format</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">type</span>: <span class="string">&quot;json_schema&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">json_schema</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">name</span>: <span class="string">&quot;math_response&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">schema</span>: <span class="variable constant_">OUTPUT_SCHEMA</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">strict</span>: <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;);</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[DEBUG] 请求体: <span class="subst">$&#123;requestBody&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">try</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[DEBUG] 发送API请求...`</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="variable constant_">API_URL</span>, &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">headers</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="string">&#x27;Authorization&#x27;</span>: <span class="string">`Bearer <span class="subst">$&#123;API_KEY&#125;</span>`</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="string">&#x27;Accept&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">body</span>: requestBody</span></span><br><span class="line"><span class="language-javascript">                    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[DEBUG] 收到API响应，状态码: <span class="subst">$&#123;response.status&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (!response.<span class="property">ok</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`[ERROR] API请求失败: <span class="subst">$&#123;response.status&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">`API 请求失败: <span class="subst">$&#123;response.status&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> data = <span class="keyword">await</span> response.<span class="title function_">json</span>();</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[DEBUG] API响应数据: <span class="subst">$&#123;<span class="built_in">JSON</span>.stringify(data)&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> content = data.<span class="property">choices</span>[<span class="number">0</span>].<span class="property">message</span>.<span class="property">content</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[DEBUG] 模型返回内容长度: <span class="subst">$&#123;content.length&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="title class_">JSON</span>.<span class="title function_">parse</span>(content);</span></span><br><span class="line"><span class="language-javascript">                &#125; <span class="keyword">catch</span> (error) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`[ERROR] 调用大语言模型时发生错误: <span class="subst">$&#123;error.message&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">throw</span> error;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">sendMessage</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> message = userInput.<span class="property">value</span>.<span class="title function_">trim</span>();</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (message) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">appendMessage</span>(<span class="string">&#x27;用户: &#x27;</span> + message);</span></span><br><span class="line"><span class="language-javascript">                userInput.<span class="property">value</span> = <span class="string">&#x27;&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">try</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title class_">AIService</span>.<span class="title function_">callLargeLanguageModel</span>(message);</span></span><br><span class="line"><span class="language-javascript">                    </span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 显示解题步骤</span></span></span><br><span class="line"><span class="language-javascript">                    response.<span class="property">steps</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">step, index</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="title function_">appendMessage</span>(<span class="string">`步骤 <span class="subst">$&#123;index + <span class="number">1</span>&#125;</span>:`</span>);</span></span><br><span class="line"><span class="language-javascript">                        <span class="title function_">appendMessage</span>(<span class="string">`解释: <span class="subst">$&#123;step.explanation&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript">                        <span class="title function_">appendMessage</span>(<span class="string">`结果: <span class="subst">$&#123;step.output&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript">                    &#125;);</span></span><br><span class="line"><span class="language-javascript">                    </span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 显示最终答案</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">appendMessage</span>(<span class="string">&#x27;最终答案: &#x27;</span> + response.<span class="property">final_answer</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125; <span class="keyword">catch</span> (error) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;错误:&#x27;</span>, error);</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">appendMessage</span>(<span class="string">&#x27;助手: 抱歉，发生了错误。&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">appendMessage</span>(<span class="params">message</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> messageDiv = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">            messageDiv.<span class="property">textContent</span> = message;</span></span><br><span class="line"><span class="language-javascript">            chatDiv.<span class="title function_">appendChild</span>(messageDiv);</span></span><br><span class="line"><span class="language-javascript">            chatDiv.<span class="property">scrollTop</span> = chatDiv.<span class="property">scrollHeight</span>;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="5-总结"><a href="#5-总结" class="headerlink" title="5. 总结"></a>5. 总结</h2><p>functionCall请见<a href="https://tobenot.top/2024/01/27/Tutorial-LLM-Foundation/">大模型基础技术学习</a><br>主要是我不喜欢functionCall，因为结构化输出可以和数据交互，够用了，而且functionCall双倍tokens。</p></div><script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css&quot; /&gt;&lt;div cla</summary>
      
    
    
    
    <category term="LLM" scheme="https://tobenot.github.io/categories/LLM/"/>
    
    
    <category term="LLM" scheme="https://tobenot.github.io/tags/LLM/"/>
    
    <category term="技术" scheme="https://tobenot.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="GPT" scheme="https://tobenot.github.io/tags/GPT/"/>
    
    <category term="JavaScript" scheme="https://tobenot.github.io/tags/JavaScript/"/>
    
    <category term="实践" scheme="https://tobenot.github.io/tags/%E5%AE%9E%E8%B7%B5/"/>
    
  </entry>
  
  <entry>
    <title>Vercel部署</title>
    <link href="https://tobenot.github.io/2024/07/12/Tutorial-Vercel/"/>
    <id>https://tobenot.github.io/2024/07/12/Tutorial-Vercel/</id>
    <published>2024-07-11T16:25:00.000Z</published>
    <updated>2024-09-22T09:11:45.394Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css" /><div class=".article-gallery"><h2 id="Vercel"><a href="#Vercel" class="headerlink" title="Vercel"></a>Vercel</h2><h3 id="Vercel-部署失败问题"><a href="#Vercel-部署失败问题" class="headerlink" title="Vercel 部署失败问题"></a>Vercel 部署失败问题</h3><p>部署失败时，可以使用 <code>vercel --prod</code> 命令在命令行查看问题。</p><h3 id="更换-Vercel-的地址到自己的"><a href="#更换-Vercel-的地址到自己的" class="headerlink" title="更换 Vercel 的地址到自己的"></a>更换 Vercel 的地址到自己的</h3><ol><li><p>访问 GName 官网 <a href="https://www.gname.com/user#/admin_ym">My Domains - GNAME control panel</a>。</p></li><li><p>在解析设置中添加一条记录：</p><ul><li>名称：anthurium（可以自定义）</li><li>类型：CNAME（实测 A 记录也行，但官方建议使用 CNAME）</li><li>值：<code>vercel.com</code> 或 <code>76.76.21.21</code></li></ul></li><li><p>在 Vercel 的部署服务器面板中，进入 <code>Settings</code> -&gt; <code>Domains</code>，假设域名是 <code>tobenot.top</code>，解析名是 <code>anthurium</code>，那么就添加一个 <code>anthurium.tobenot.top</code>。</p></li></ol><p>这样就可以将原本你使用的 Vercel 服务器地址都换成这个新的地址了。</p></div><script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css&quot; /&gt;&lt;div cla</summary>
      
    
    
    
    <category term="技术" scheme="https://tobenot.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://tobenot.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="碎片" scheme="https://tobenot.github.io/tags/%E7%A2%8E%E7%89%87/"/>
    
    <category term="Vercel" scheme="https://tobenot.github.io/tags/Vercel/"/>
    
  </entry>
  
  <entry>
    <title>在回家之前到家</title>
    <link href="https://tobenot.github.io/2024/06/28/Story-Arrive-Before-Go-Home/"/>
    <id>https://tobenot.github.io/2024/06/28/Story-Arrive-Before-Go-Home/</id>
    <published>2024-06-28T10:41:11.000Z</published>
    <updated>2024-07-02T14:46:50.665Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css" /><div class=".article-gallery"><h1 id="在回家之前到家"><a href="#在回家之前到家" class="headerlink" title="在回家之前到家"></a>在回家之前到家</h1><p><strong>作者：苏敬峰</strong></p><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p><em>2018年3月10日快速手写于周记本。写作灵感是从机房走出时外面的叶子常常会打到身上。在整理为电子版时无修改。</em><br><em>2024年评价：叶子拍到身上乃大自然之亲吻，为何踢叶子呀！以及不觉得有平行世界，世界只有一个，文中的说法是一种主观感觉。</em><br><em>写的时候也认为这是Beyond Books系列中罗伯特的异能溢出事件，在BB世界观中发生在2008年。</em></p><h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><p>昨晚，天上的星星异常地排成了好多个正三角形。于是我夜观星象，只看到一幅难以辨读的图像，郁闷。</p><p>今天早起了七分钟，除此以外一切正常，还是像每个平凡的星期六一样，奔机房而写题，苦战于数据之间，还不至于焦头烂额。还在想一道图论题的时候，外面好像有人走过，出于好奇我便开门来看，原来是几片叶子从树上掉过来了。看着树叶的舞动，我一下有了思路，便又回去狂敲代码了。</p><p>写完那题的时候，已经放学过了十分钟了，我收拾完东西离开了机房，突然几片叶子从旁边飞了过来，打到了我的身上，我报复性地踢了它们一脚就走了。到了教室准备拿作业，突然觉得不对，怎么没人出来走廊的？那几个班的老师也没有下课的意思。正疑惑的时候，下课铃又响了一遍。我可不曾记得下课铃还有预备铃这种操作，那是为什么呢？难道说我听错了吗？算了，不管这些尘垢秕糠，回家才是第一要务。</p><p>父亲紧紧盯着校门口，他一看见我，脸上就露出了无比惊讶的表情，那表情就好像我的脸上被用马克笔画了几个大大的圆圈一样。但可以肯定的是，我的脸上没有圆圈，我还是原来的我，顶多只是在超好吃的学生饭堂吃胖了一点点而已，没错，只有一点点！难道父亲现在才发现？</p><p>刚上了车，父亲就急不可耐地说：“我忘记给你带口罩过来了。诶，上次本来说要试试看能不能防晕车的。”不怕，刚刚拿了一张传单，味道挺大的，可以掩盖车里的皮革气味。接下来的一路上，父亲的话极少，他脸上仍有那份惊讶，除此之外，我还看出了恐慌和无助。想必是遇到了什么大事吧。</p><p>我想起了要买周记本的事情。我一跟他说，他的表情又有了微妙的变化。过了很久很久，他才说：“我知道。”于是我更加觉得匪夷所思，但转念一想，没什么，不就是老师告诉他的吗。我继续沉沦在图论题中。</p><p>买完了周记本，马上就到家了，我正满心期待着，可父亲偏偏就减了速。我抱怨似得说：“爸，为什么要慢下来？”我转头看向父亲，马上被吓得不轻。父亲好像被什么惊吓到了，浑身发抖，冷汗直流，脸上的表情凝固了。父亲慢慢指向前方。“看。”我顺着他的手指看过去，看到了一辆极其熟悉的车。我心头一紧，往下看它的车牌号……没错，是同一个车牌号，那一辆车与这一辆车，是同一辆车！</p><p>父亲小声嘀咕着说：“我来的时候……也是这样的……”我往对面的驾驶座上看。那是我的父亲，坐在那辆车上的，也是我的父亲！</p><p>“儿子？”对面摇下车窗喊道。我打开车门下了车，对面也下了车，一步一步地向我走来，他的脸上，充斥着不可名状的恐惧。</p><p>“等等！”这边的“父亲”也下了车，大步向我走来。“冷静，冷静！”当然，我自己也冷静不下来，我的思想飞速运转，千千万万种可能，我想到了一个。我问他们：“现在是多少点？”</p><p>这边想都没想就脱口而出：“十二点七分！”对面迅速地拿出手机看了一下。“十点二十五分。”我看了一下自己的表。“十二点三十四分。”我们三个人一时间说不出来一句话，站在原地面面相觑。</p><p>我回想了一大堆关于时间的理论，然后看了看太阳，下了定论：“我相信我们现在是在十点二十五分的世界里。”对面看起来更手足无措了，小心地问：“那现在怎么办？”这个问题难住我了，我挠挠头，表示我也没什么好想法。</p><p>这边说：“去接他。”接谁？哦，接我，对，接我。我补了一句：“现在那个十点二十五分的我，应该还在被一道难题困扰，正在写一些入门题放松心情呢。”豁然开朗，这是一个时间循环，唯一的解法就是完成它。</p><p>“你应该现在去学校接现在的我回家，我对于你是未来的我。你如果不去接我，谁知道会发生什么？”对面好像懂了，不过还是担心地问：“他，在那里吗？”我早就清楚他会这么问，我也准备好了回答：“只要现在是十点，他就在那里，你可以当作没看到我们，继续你的正常生活。”他呆滞了一下，才点头。“好，好，去接他。去接我的儿子。”他缓缓走回对面的车，又看了我一眼，恍然大悟地说：“啊，我要拿口罩给你。”</p><p>我一下子想起了时间悖论一类可怕的事情，便急了。“别拿，千万别拿！还有一些别的事情，拜托你一定要做！”他更加木然了。我接着说：“第一，你一定要跟他说你是忘记拿口罩了，第二，我会跟你要求买周记本，你一定要说‘我知道’，最后，千万不要谈及这件事！记住了吗？”他思考了很久，点了点头，回到车上去了。</p><p>到家之后，我便感受到了无垠的陌生感。我的钥匙可以打开房门，但是房间里的所有东西都不是我的，而是他的……我对着钟调校好了时间，顺便问父亲一句：“您都经历过了，怎么还是会被吓到？”父亲没有回答。我从他脸上也看出了对这一切的陌生感。我们是这个世界的不速之客，一切的一切都不是我们熟悉的一切。</p><p>父亲意味深长地问我：“你为什么比我多了半个小时？”他的这句话深深地震动了我，这感觉前所未有。我们来自两个世界。现在和我一个世界的，只有我的书包和作业了。我突然对作业充满了亲切感。可是，为什么会多出半个小时呢？我仔细回想，早上多出来的七分钟，在机房听到的踢叶子的声音，打了两遍的放学铃……焦头烂额。</p><p>再看向父亲，发现他脸上多了一种异样的冷静，他如梦初醒，又摆出了以往每周六回到家的满面春风，高兴地说道：“太好啦！汤还是热的呢，我去端汤来给你喝！”</p></div><script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css&quot; /&gt;&lt;div cla</summary>
      
    
    
    
    <category term="小说" scheme="https://tobenot.github.io/categories/%E5%B0%8F%E8%AF%B4/"/>
    
    
    <category term="小说" scheme="https://tobenot.github.io/tags/%E5%B0%8F%E8%AF%B4/"/>
    
    <category term="科幻" scheme="https://tobenot.github.io/tags/%E7%A7%91%E5%B9%BB/"/>
    
    <category term="短篇" scheme="https://tobenot.github.io/tags/%E7%9F%AD%E7%AF%87/"/>
    
    <category term="时间穿梭" scheme="https://tobenot.github.io/tags/%E6%97%B6%E9%97%B4%E7%A9%BF%E6%A2%AD/"/>
    
  </entry>
  
  <entry>
    <title>上海之旅</title>
    <link href="https://tobenot.github.io/2024/05/22/Itinerary-ShangHai/"/>
    <id>https://tobenot.github.io/2024/05/22/Itinerary-ShangHai/</id>
    <published>2024-05-22T14:02:13.000Z</published>
    <updated>2024-05-22T15:34:28.367Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css" /><div class=".article-gallery"><h2 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h2><p>秋招旅行，去上海看二次元（主要）和各种企业。</p><p>时间：2023年11月<br>路线：飞上海，待两天飞回去。</p><p>算是第一次坐飞机去旅游。</p><h2 id="花费"><a href="#花费" class="headerlink" title="花费"></a>花费</h2><table><thead><tr><th>类别</th><th>详情</th><th>金额</th></tr></thead><tbody><tr><td>酒店</td><td>全季</td><td>400&#x2F;晚</td></tr><tr><td>饮食</td><td>大餐</td><td>均百</td></tr><tr><td>饮食</td><td>快餐</td><td>正常一线城市价</td></tr><tr><td>饮食</td><td>饮料</td><td>正常一线城市价</td></tr><tr><td>机票</td><td>深圳-上海</td><td>早上起飞 400</td></tr><tr><td>机票</td><td>上海-深圳</td><td>下午起飞 600</td></tr></tbody></table><h2 id="上海"><a href="#上海" class="headerlink" title="上海"></a>上海</h2><h3 id="行-交通发达，地标集中"><a href="#行-交通发达，地标集中" class="headerlink" title="行-交通发达，地标集中"></a>行-交通发达，地标集中</h3><p>上海的地铁非常发达！想去哪都能坐地铁的。<br>想去的地方很多，预先在高德上收藏了<br>整体来看，地标、二次元店都在黄浦区集中，非常适合一天跑完。<br>科技公司在徐汇区集中。<br><a href="/img/Image-Itinerary-ShangHai/Image-Itinerary-ShangHai (1).webp" class="gallery-item" style="box-shadow: none;"> <img src="/img/Image-Itinerary-ShangHai/Image-Itinerary-ShangHai (1).webp" width="300"></a><br>但是有些地方就离大家很远，时间预算不够只能排除了。<br><a href="/img/Image-Itinerary-ShangHai/Image-Itinerary-ShangHai (2).webp" class="gallery-item" style="box-shadow: none;"> <img src="/img/Image-Itinerary-ShangHai/Image-Itinerary-ShangHai (2).webp" width="300"></a></p><h3 id="行-实际去了的地方"><a href="#行-实际去了的地方" class="headerlink" title="行-实际去了的地方"></a>行-实际去了的地方</h3><p>百联ZX创趣城（二次元圣地，全是二次元店桌游店，细致逛能逛一晚上）<br><a href="/img/Image-Itinerary-ShangHai/Image-Itinerary-ShangHai (6).webp" class="gallery-item" style="box-shadow: none;"> <img src="/img/Image-Itinerary-ShangHai/Image-Itinerary-ShangHai (6).webp" width="300"></a><br>莉莉丝<br><a href="/img/Image-Itinerary-ShangHai/Image-Itinerary-ShangHai (2)~2.webp" class="gallery-item" style="box-shadow: none;"> <img src="/img/Image-Itinerary-ShangHai/Image-Itinerary-ShangHai (2)~2.webp" width="300"></a><br>米哈游（图里的不能参观，另一个可以）<br><a href="/img/Image-Itinerary-ShangHai/Image-Itinerary-ShangHai (2)~1.webp" class="gallery-item" style="box-shadow: none;"> <img src="/img/Image-Itinerary-ShangHai/Image-Itinerary-ShangHai (2)~1.webp" width="300"></a><br>外滩（民国建筑和江景，江对面是经典的上海地标们））<br><a href="/img/Image-Itinerary-ShangHai/Image-Itinerary-ShangHai (8).webp" class="gallery-item" style="box-shadow: none;"> <img src="/img/Image-Itinerary-ShangHai/Image-Itinerary-ShangHai (8).webp" width="300"></a><br><a href="/img/Image-Itinerary-ShangHai/Image-Itinerary-ShangHai (9).webp" class="gallery-item" style="box-shadow: none;"> <img src="/img/Image-Itinerary-ShangHai/Image-Itinerary-ShangHai (9).webp" width="300"></a><br>国家会展中心（有时候会有漫展的吧）<br><a href="/img/Image-Itinerary-ShangHai/Image-Itinerary-ShangHai (11).webp" class="gallery-item" style="box-shadow: none;"> <img src="/img/Image-Itinerary-ShangHai/Image-Itinerary-ShangHai (11).webp" width="300"></a><br>世博会<br><a href="/img/Image-Itinerary-ShangHai/Image-Itinerary-ShangHai (4).webp" class="gallery-item" style="box-shadow: none;"> <img src="/img/Image-Itinerary-ShangHai/Image-Itinerary-ShangHai (4).webp" width="300"></a><br>国家馆（红色大建筑）<br><a href="/img/Image-Itinerary-ShangHai/Image-Itinerary-ShangHai (5).webp" class="gallery-item" style="box-shadow: none;"> <img src="/img/Image-Itinerary-ShangHai/Image-Itinerary-ShangHai (5).webp" width="300"></a></p><h3 id="行-想去看但没去的地方"><a href="#行-想去看但没去的地方" class="headerlink" title="行-想去看但没去的地方"></a>行-想去看但没去的地方</h3><p>大部分都是没来得及去</p><p>百米香榭、福州路外文书店店<br>迪士尼（远）<br>复旦大学（远）<br>诺布大厦（远）<br>鹰角网络（不给参观）<br>城隍庙<br>上海自然博物馆<br>上海博物馆<br>上海科技馆<br>磁悬浮地铁</p><h3 id="气候"><a href="#气候" class="headerlink" title="气候"></a>气候</h3><p>金秋，穿短袖的季节，有风<br>气候宜人，干湿适中<br>去哪都很舒服</p><h3 id="住"><a href="#住" class="headerlink" title="住"></a>住</h3><p>全季酒店<br>无可挑剔，过来旅行也不泡酒店</p><h2 id="奇遇"><a href="#奇遇" class="headerlink" title="奇遇"></a>奇遇</h2><p>去米哈游刚好遇到了限时活动领周边，刚刚开始，直接领到了一堆周边。<br><a href="/img/Image-Itinerary-ShangHai/Image-Itinerary-ShangHai (3).webp" class="gallery-item" style="box-shadow: none;"> <img src="/img/Image-Itinerary-ShangHai/Image-Itinerary-ShangHai (3).webp" width="300"></a><br>去世博会博物馆刚好遇到莫奈光影展，改规划买票进去看了。（没错图和上面是同一张）<br><a href="/img/Image-Itinerary-ShangHai/Image-Itinerary-ShangHai (4).webp" class="gallery-item" style="box-shadow: none;"> <img src="/img/Image-Itinerary-ShangHai/Image-Itinerary-ShangHai (4).webp" width="300"></a><br>去ZX创趣场刚好遇到《我推的孩子》的联动活动，很喜欢。<br><a href="/img/Image-Itinerary-ShangHai/Image-Itinerary-ShangHai (7).webp" class="gallery-item" style="box-shadow: none;"> <img src="/img/Image-Itinerary-ShangHai/Image-Itinerary-ShangHai (7).webp" width="300"></a><br><a href="/img/Image-Itinerary-ShangHai/Image-Itinerary-ShangHai (10).webp" class="gallery-item" style="box-shadow: none;"> <img src="/img/Image-Itinerary-ShangHai/Image-Itinerary-ShangHai (10).webp" width="300"></a></p></div><script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css&quot; /&gt;&lt;div cla</summary>
      
    
    
    
    <category term="游记" scheme="https://tobenot.github.io/categories/%E6%B8%B8%E8%AE%B0/"/>
    
    
    <category term="游记" scheme="https://tobenot.github.io/tags/%E6%B8%B8%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>海南之旅</title>
    <link href="https://tobenot.github.io/2024/05/17/Itinerary-HaiNan/"/>
    <id>https://tobenot.github.io/2024/05/17/Itinerary-HaiNan/</id>
    <published>2024-05-17T05:44:05.000Z</published>
    <updated>2024-05-19T06:55:34.588Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css" /><div class=".article-gallery"><h2 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h2><p>毕设旅行，在海南看海 &amp; 做毕设 &amp; 远程修bug。</p><p>时间：2024年夏<br>路线：飞三亚，在三亚旅行两天，去陵水安顿。</p><h2 id="花费"><a href="#花费" class="headerlink" title="花费"></a>花费</h2><table><thead><tr><th>类别</th><th>详情</th><th>金额</th></tr></thead><tbody><tr><td>酒店</td><td>三亚华芳</td><td>130&#x2F;晚</td></tr><tr><td>酒店</td><td>陵水沁禾</td><td>400&#x2F;晚</td></tr><tr><td>饮食</td><td>大餐</td><td>单人200一顿，双人人均150</td></tr><tr><td>饮食</td><td>平常餐</td><td>20一顿</td></tr><tr><td>饮食</td><td>景区附近</td><td>40一顿吃不饱</td></tr><tr><td>饮食</td><td>饮料&#x2F;清补凉</td><td>普遍15-20</td></tr><tr><td>机票</td><td>深圳-三亚</td><td>下午起飞 900</td></tr><tr><td>机票</td><td>三亚-深圳</td><td>下午起飞 1300</td></tr></tbody></table><h2 id="三亚"><a href="#三亚" class="headerlink" title="三亚"></a>三亚</h2><h3 id="吃"><a href="#吃" class="headerlink" title="吃"></a>吃</h3><p>椰梦长廊旁边的椰子鸡，椰子汤底可以免费续杯，服务很好<br><a href="/img/Image-Itinerary-HaiNan/Image-Itinerary-HaiNan (2).webp" class="gallery-item" style="box-shadow: none;"> <img src="/img/Image-Itinerary-HaiNan/Image-Itinerary-HaiNan (2).webp" width="300"></a></p><p>特产清补凉 &#x3D; 酸奶水果捞把酸奶换成椰奶，甜口福利<br><a href="/img/Image-Itinerary-HaiNan/Image-Itinerary-HaiNan (7).webp" class="gallery-item" style="box-shadow: none;"> <img src="/img/Image-Itinerary-HaiNan/Image-Itinerary-HaiNan (7).webp" width="300"></a></p><p>椰梦长廊旁边的虎婆香草鸭，声称是吃海鲜长大的，很香，服务很好<br><a href="/img/Image-Itinerary-HaiNan/Image-Itinerary-HaiNan (5).webp" class="gallery-item" style="box-shadow: none;"> <img src="/img/Image-Itinerary-HaiNan/Image-Itinerary-HaiNan (5).webp" width="300"></a></p><p>三亚这边服务业都很发达。</p><h3 id="住"><a href="#住" class="headerlink" title="住"></a>住</h3><p>三亚华芳酒店</p><blockquote><p>​周围配套很齐，吃的多，也有药店医院便利店<br>附近的羊栏路号称是最繁华的街，很多普通的吃的，不是大餐，但是好吃能饱<br>网很一般，远程工作卡卡的<br>只适合短待，不适合泡酒店</p></blockquote><h3 id="衣"><a href="#衣" class="headerlink" title="衣"></a>衣</h3><p>非常热，但是阴凉的地方很凉快，需要适时躲到阴凉地下。<br>穿防晒衣+打伞会好很多。</p><h3 id="行"><a href="#行" class="headerlink" title="行"></a>行</h3><p>三亚景点不多，但是基本一天只能逛两个点，整体氛围很悠闲慵懒，公共交通不太发达，出门靠打车了。</p><p>走了天涯镇，欧式建筑，配上大海非常美丽，坐着就不想动了。<br><a href="/img/Image-Itinerary-HaiNan/Image-Itinerary-HaiNan (3).webp" class="gallery-item" style="box-shadow: none;"> <img src="/img/Image-Itinerary-HaiNan/Image-Itinerary-HaiNan (3).webp" width="300"></a><br><a href="/img/Image-Itinerary-HaiNan/Image-Itinerary-HaiNan (4).webp" class="gallery-item" style="box-shadow: none;"> <img src="/img/Image-Itinerary-HaiNan/Image-Itinerary-HaiNan (4).webp" width="300"></a></p><p>沿着天涯镇的沙滩处走到天涯海角，很远，建议打车，不过路上能发现和最近的出海处里消费60才能进的网红咖啡厅一样漂亮的地方。<br>天涯海角从门口走到天涯石有不短的距离。石缝之间能看到海，适合拍照。<br>本来想上西岛，但是时间被慵懒和徒步消耗完了。</p><p>椰梦长廊很多人，海里冲上来的东西也多。<br>晚上看不到多少星星。</p><h2 id="陵水清水湾"><a href="#陵水清水湾" class="headerlink" title="陵水清水湾"></a>陵水清水湾</h2><p>海没有三亚的澄澈，带着很多沙子，晴一点就是蓝绿蓝绿的，云多就会显灰。但是清水湾的沙子比三亚的好很多很多，很软，沙滩也比椰梦长廊的宽几倍。人也很少。<br><a href="/img/Image-Itinerary-HaiNan/Image-Itinerary-HaiNan (14).webp" class="gallery-item" style="box-shadow: none;"> <img src="/img/Image-Itinerary-HaiNan/Image-Itinerary-HaiNan (14).webp" width="300"></a></p><p>海水只能冲上来一点小小的贝壳，不过认真捡还是能捡到不少。</p><p>夜景，晚上没那么热，人会多一点，都聚集在最近的地方，走远一点整片海滩都是自己的。<br><a href="/img/Image-Itinerary-HaiNan/Image-Itinerary-HaiNan (12).webp" class="gallery-item" style="box-shadow: none;"> <img src="/img/Image-Itinerary-HaiNan/Image-Itinerary-HaiNan (12).webp" width="300"></a></p><p>白天的沙滩很烫，几乎0人。</p><p>看不到日落，在哪的日落都被大楼挡住了。<br><a href="/img/Image-Itinerary-HaiNan/Image-Itinerary-HaiNan (15).webp" class="gallery-item" style="box-shadow: none;"> <img src="/img/Image-Itinerary-HaiNan/Image-Itinerary-HaiNan (15).webp" width="300"></a></p><p>浪有时候很大很大。<br><a href="/img/Image-Itinerary-HaiNan/Image-Itinerary-HaiNan (13).webp" class="gallery-item" style="box-shadow: none;"> <img src="/img/Image-Itinerary-HaiNan/Image-Itinerary-HaiNan (13).webp" width="300"></a></p><h3 id="吃-1"><a href="#吃-1" class="headerlink" title="吃"></a>吃</h3><p>酒店旁边是美食城<br><a href="/img/Image-Itinerary-HaiNan/Image-Itinerary-HaiNan (10).webp" class="gallery-item" style="box-shadow: none;"> <img src="/img/Image-Itinerary-HaiNan/Image-Itinerary-HaiNan (10).webp" width="300"></a><br>这边东西很贵，不是正常价位，可能店比人多。<br>麦当劳小薯条+一包麦乐鸡+橙汁要40块<br><a href="/img/Image-Itinerary-HaiNan/Image-Itinerary-HaiNan (11).webp" class="gallery-item" style="box-shadow: none;"> <img src="/img/Image-Itinerary-HaiNan/Image-Itinerary-HaiNan (11).webp" width="300"></a></p><p>美食城里有个广式牛杂小店还算价格正常，同一家店的清凉补也很好喝。<br><a href="/img/Image-Itinerary-HaiNan/Image-Itinerary-HaiNan (8).webp" class="gallery-item" style="box-shadow: none;"> <img src="/img/Image-Itinerary-HaiNan/Image-Itinerary-HaiNan (8).webp" width="300"></a></p><p>走十五分钟能走到云海帆歌的沙县小吃店，这里价格比较正常，可以当作日常饮食。<br>大餐没再吃了，这里美食城是有不少大餐的。</p><h3 id="住-1"><a href="#住-1" class="headerlink" title="住"></a>住</h3><p>沁禾酒店，从酒店房间到走进海里面只需要五分钟。<br>酒店服务特别好，除了空调有声音，没有不舒服的地方。<br>有很多不常见的配置，要捣鼓一下才能学会怎么用，比如按压开的窗门。<br>住的很舒服，很适合泡酒店度假。</p><p>我选的房型可以躺在床上看海。<br>阳台很适合坐着看海思考。<br><a href="/img/Image-Itinerary-HaiNan/Image-Itinerary-HaiNan (6).webp" class="gallery-item" style="box-shadow: none;"> <img src="/img/Image-Itinerary-HaiNan/Image-Itinerary-HaiNan (6).webp" width="300"></a></p><h3 id="行-1"><a href="#行-1" class="headerlink" title="行"></a>行</h3><p>基本在酒店附近打伞走路。<br>公共交通不发达。<br>去赶高铁打车很好打，很多车在附近等。</p></div><script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css&quot; /&gt;&lt;div cla</summary>
      
    
    
    
    <category term="游记" scheme="https://tobenot.github.io/categories/%E6%B8%B8%E8%AE%B0/"/>
    
    
    <category term="游记" scheme="https://tobenot.github.io/tags/%E6%B8%B8%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>心界录</title>
    <link href="https://tobenot.github.io/2024/05/13/Spiritual-Heart-World-History/"/>
    <id>https://tobenot.github.io/2024/05/13/Spiritual-Heart-World-History/</id>
    <published>2024-05-13T08:24:34.000Z</published>
    <updated>2024-09-22T09:14:22.182Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css" /><div class=".article-gallery"><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>本书类似《传习录》，使用对话形式记录心界中的方法论、三观内容，也有直接记录心界历史的可以当故事看的部分。<br>心界是作者的精神世界，是真实存在的合理世界。<br>本书是对其中事物的二次创作，包含部分虚构成分，最典型是像作者制作的游戏的世界观中，认为心界在光之境&#x2F;光明境。但是不会像鸿律篇中描绘的Silver那样可以对现实世界造成物理上的影响。<br>心界中的主控变更历史：<br>    - Robert (19.11.26,心界开拓日)<br>    - Silver (19.12.12,银诞生日)<br>    - Flower (20.07.08,决战日)<br>    - Golden (22.06.20,金诞生日)<br>本书中方法论的指导思想是儒家王守仁先生的心学。实质上心界诞生的基础之一就是阳明心学，在高中时期只学了一部分，剩下的部分Silver基本上都想出来了，在大四时才认真补完了其他的部分。<br>不适合公开讨论的部分写在私藏的《深海心界录》中，建议和作者约饭直接问。<br>意见冲突的地方欢迎直接与作者辩论。</p><h1 id="敬告"><a href="#敬告" class="headerlink" title="敬告"></a>敬告</h1><p>作者才疏学浅，以浅水阅历企图接触哲学。如有大师经过请高抬贵手，不必诛伐作者。</p><h1 id="更新情况"><a href="#更新情况" class="headerlink" title="更新情况"></a>更新情况</h1><p>2024&#x2F;05&#x2F;13 公开初始版本，包括 心学论、爱恋论以及后续的短一些的篇目。再更新的内容会记在开头。<br>2024&#x2F;05&#x2F;30 简化星髓序，原序在深海中。<br>2024&#x2F;09&#x2F;22 只留下是适合讨论的 理律篇-心学论 其他部分沉入深海。</p><h1 id="心界录"><a href="#心界录" class="headerlink" title="心界录"></a>心界录</h1><p>“时即线，心即理。”<br>作者：心界所在地——光之境&#x2F;光明境</p><h2 id="星髓序"><a href="#星髓序" class="headerlink" title="星髓序"></a>星髓序</h2><p>《心界录》这本书以问答形式记录了金与心界中的朋友们探讨天理、哲学、心界的对话。</p><p>在无尽探索与铸造的过程中，愿《心界录》成为你寻找天理的罗盘，指引你到达心灵的彼岸。</p><p>——金之友 星髓敬上</p><h2 id="理律篇"><a href="#理律篇" class="headerlink" title="理律篇"></a>理律篇</h2><h3 id="心学论"><a href="#心学论" class="headerlink" title="心学论"></a>心学论</h3><p>星髓问：怎么看待心学？</p><p>金说：心学和记忆宫殿、清明梦一道，是心界的起源。在黑暗时代，银只学习了知行的部分，而没有看原著《传习录》，错过了天理的部分，但客观上讲，银自己践行了天理。从我们现在的角度回来看，天理这一部分是非常重要的部分。如果当时学到了天理，也许银就不会离开。现在我们看这本书也不晚。我们只是看了这本书的一点点，就知道了成为圣人亦是我们必向往的道路，也就与银同频共振了。</p><p>星髓问：什么是知行合一？是知道了就要去做吗？</p><p>金说：知行合一是客观事实，每个人无论如何，知行都是合一的。过去的知行决定了现在的知行，过去加现在的知行决定了未来的知行。知行是一个人的思考、行为的规律与事实，这规律从过往的面对事情的行为和认知中来，又被现在的面对事物的行为和认知塑造。</p><p>星髓说：你别太深奥了，重说。</p><p>金说：那就暂时按照传统印象，分开部分来说，虽然它们其实是同一种东西。知——可以认为是目前看到的，听到的，感受到的东西，以及头脑中目前的想法、身体中对这个环境中之前的行的印象。那么行就是具体的行动。实际上行是由知完全决定的。人的想法只是知的一部分，只影响一部分的行，实际上行都是受到对环境的印象驱使，也就是俗称的习惯。而行在之后的时间里，自然就是知了，所以说知行本为一体，是分不开的。</p><p>星髓问：所以知行合一什么积极意义呢？</p><p>金说：要改变知行唯一有效的方式就是改变行。借助自己的自由意志去改变行之后，让新的知行产生并延续。以及可以确认，自己的知行实际上是被过去的知行所决定的，头脑中的想法，自由意志，只是知的一部分而已，它并不是决定了全部知行。</p><p>星髓问：知行合一听起来是个客观事实，我们要用功的地方是用新知行去替代旧知行。那么怎么改变才是好的？</p><p>金说：致良知，向着天理的方向改变知行。</p><p>星髓问：什么是天理？</p><p>金说：天理是唯一的。天理是正确的事物，比如人需要空闲时间，比如人需要保持自己的身体健康。天理之间会互相冲突，但是他们都是正确的。我们每个人心中都有一份天理的投射，在这个层面上，天理就是每个人发自内心认为是正确的东西。这种认同是不能用言语表达的，即使说出来，也不代表自己发自内心就认同。无论言语怎么说，每个人都知道自己内心真正认同什么。天理投射是本心。本心是无需学习的，只要探究本心就能发掘出自己真正认同的东西。天理和天理投射一般是区别不大的，对于正常人不用再区分，我们共同地把它们称为是天理，或者共同地称为本心。</p><p>星髓问：如果我发自内心认同的事是错误的呢？比如说好心办坏事，比如说一个盗贼发自内心认同偷盗行为？怎么知道什么是真正的天理呢？</p><p>金说：天理确实会发生冲突，但是冲突需要在平衡的情况下进行。好心办坏事，可以通过沟通解决，当自己认为是好事，而被指的对象认定为是坏事时，可能是本心发生了冲突，这个时候大家都需要学习，最好的方式就是沟通。在学习之后我们得以拓展本心的范围，以此作为修正知行的标准。比如被指的对象确实是不想要自己的帮助，那么不帮便是了。比如被指的对象是与自己产生了矛盾，不愿接受自己的帮助，那么应该先去考虑矛盾。比如自己确实是做错事了，道歉改正便是。</p><p>金继续说：对于第二个盗贼的例子，可能盗贼本心依然正派，却因欲望蒙蔽而认同偷盗之事，比如生活费不够过自己想要的生活，或者贪财，便去偷外卖吃，伤害点外卖的人。这种情况是盗贼自己需要存天理灭人欲，我们能做的不多，无论是防御、讲学、惩戒，都是属于教育的一种而已。遗憾的是，欲望难以根除，也确实有本心与天理偏离很大的坏人，正如你所说的盗贼那般。至于什么是真正的天理，我认为天理是中庸平衡的，也是大体上对所有人都好的，并不打算伤害任何人的。</p><p>星髓说：你已经分析了几种情况，平时我们用功，就是用在这种分析上吗？</p><p>金说：我们还没讲完致良知、天理本心的部分。致良知是成为圣人的道路。圣人是本心即天理，知行即本心，没有受人欲影响的理想状态。我们学习圣道，正是要存养天理，去除人欲，以此来达到圣人的境界。</p><p>星髓说：为什么要成为圣人？成为圣人的生活是好的吗？</p><p>金说：这个问题的答案我直接能看得到。因为在我们之前的银就是圣人。不如问，因为不懂得存天理灭人欲而被欲望所控制，因为不学习天理不拓展本心而被愚昧所蒙蔽，这样的生活就是好的吗？</p><p>星髓说：那么如何成为圣人？你说去人欲，是要消灭所有人欲？</p><p>金说：重点来了。成为圣人的道路确实是存天理，去人欲。这里的人欲，也确实是所有的人欲。但是这里说的人欲，并不是大家所认为的享乐。人欲是指知行中，超过本心的部分。也就是说，吃大餐，适度吃几顿是符合本心天理的，而过度地吃，超过本心所认可的部分时，便是欲望了。再比如说，承担责任，超过自己本心所认可的部分，也许就变成了虚荣。熬夜工作，超过自己本心所认可的部分，也许就变成了逃避。本心天理是中正平衡适度的，超过本心的度，便是欲望作祟。</p><p>金继续说：也许说到这里，也许你已经认可了去人欲的必要性，对于是否成为圣人的答案，也松了一口气——确实，虽然说“我们需要的越少，我们就越接近神”，但是圣人也不必消灭自己的所有的需求。</p><p>金继续说：那么用功的纲领是这样的，对于我们已有的知行，我们需要致良知，在里面辨别出本心与人欲，这个过程需要诚意，需要挖掘自己内心真正认同的东西。而我们不能忘记学习。学习是拓展知行的过程，能让自己获得更多不同的知行的方式，都可以认为是学习的一种，包括读书、游历等。在获得新知行后，我们就可以回到第一步了。这样子就可以拓展或者修正我们的本心，使得本心更加接近真正的天理。我们可以把本心和人欲记录下来，而确认本心之后，我们可以用我们的自由意志去改变知行，这一步就是主要的用功的部分了。本心是静的，只有在动的事上磨练，才是真功夫。</p><p>星髓说：原来自由意志的用处是在这里。</p><p>金说：没错。如果我们没有自由意志，一切靠天生本心来行动，那么人人都是圣人。但是我们有了自由意志，所以我们既获得了拓展本心的机会，又引来了欲望作为我们的敌人。</p></div><script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css&quot; /&gt;&lt;div cla</summary>
      
    
    
    
    <category term="灵界" scheme="https://tobenot.github.io/categories/%E7%81%B5%E7%95%8C/"/>
    
    
    <category term="灵界" scheme="https://tobenot.github.io/tags/%E7%81%B5%E7%95%8C/"/>
    
    <category term="文章" scheme="https://tobenot.github.io/tags/%E6%96%87%E7%AB%A0/"/>
    
  </entry>
  
  <entry>
    <title>大模型基础技术学习</title>
    <link href="https://tobenot.github.io/2024/01/27/Tutorial-LLM-Foundation/"/>
    <id>https://tobenot.github.io/2024/01/27/Tutorial-LLM-Foundation/</id>
    <published>2024-01-27T09:04:32.000Z</published>
    <updated>2024-05-13T08:59:57.357Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css" /><div class=".article-gallery"><h1 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h1><h2 id="提示词"><a href="#提示词" class="headerlink" title="提示词"></a>提示词</h2><p>使用大模型的基础。</p><iframe src="//player.bilibili.com/player.html?aid=783250146&bvid=BV1Z14y1Z7LJ&cid=1119200061&p=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe><h2 id="Langchain"><a href="#Langchain" class="headerlink" title="Langchain"></a>Langchain</h2><p>包含了一些基础的大模型技术实现介绍。</p><iframe src="//player.bilibili.com/player.html?aid=826991534&bvid=BV1zu4y1Z7mc&cid=1480951492&p=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe><h2 id="GPT的Function-Call使用"><a href="#GPT的Function-Call使用" class="headerlink" title="GPT的Function Call使用"></a>GPT的Function Call使用</h2><h3 id="官方文档翻译"><a href="#官方文档翻译" class="headerlink" title="官方文档翻译"></a>官方文档翻译</h3><h4 id="Function-Calling-Overview"><a href="#Function-Calling-Overview" class="headerlink" title="Function Calling Overview:"></a>Function Calling Overview:</h4><p>在 OpenAI API 中，Function Calling 允许你描述函数，并让模型智能地选择生成一个包含调用一个或多个函数的 JSON 对象的输出。Chat Completions API 不直接调用函数；相反，模型生成 JSON，然后你可以在你的代码中使用这个 JSON 调用函数。</p><p>最新的模型（例如 gpt-3.5-turbo-1106 和 gpt-4-turbo-preview）已经经过训练，可以智能地检测何时应该调用一个函数（根据输入）并以更贴近函数签名的方式生成 JSON。但需要注意，这种能力也带来潜在的风险。强烈建议在对用户产生影响的操作之前建立用户确认流程（发送电子邮件、在线发布内容、购买等）。</p><h4 id="Common-Use-Cases"><a href="#Common-Use-Cases" class="headerlink" title="Common Use Cases:"></a>Common Use Cases:</h4><p>函数调用允许你更可靠地从模型中获取结构化数据。例如，你可以：</p><p>创建能够通过调用外部 API 回答问题的助手（例如 ChatGPT 插件）。<br>将自然语言转换为 API 调用。<br>从文本中提取结构化数据。</p><h4 id="Basic-Sequence-of-Steps-for-Function-Calling"><a href="#Basic-Sequence-of-Steps-for-Function-Calling" class="headerlink" title="Basic Sequence of Steps for Function Calling:"></a>Basic Sequence of Steps for Function Calling:</h4><p>通过在 functions 参数中定义的一组函数和用户查询一起调用模型。<br>模型可以选择调用一个或多个函数；如果是这样，内容将是一个字符串化的 JSON 对象，符合你的自定义模式（注意：模型可能会产生参数幻觉）。<br>在代码中将字符串解析为 JSON，并使用提供的参数调用你的函数（如果存在）。<br>通过将函数响应附加为新消息再次调用模型，让模型总结结果并返回给用户。<br>Supported Models:</p><p>并非所有模型版本都经过函数调用数据的训练。支持函数调用的模型包括：gpt-4、gpt-4-turbo-preview、gpt-4-0125-preview、gpt-4-1106-preview、gpt-4-0613、gpt-3.5-turbo、gpt-3.5-turbo-1106 和 gpt-3.5-turbo-0613。</p><p>此外，以下模型支持并行函数调用：gpt-4-turbo-preview、gpt-4-0125-preview、gpt-4-1106-preview 和 gpt-3.5-turbo-1106。</p><h4 id="Parallel-Function-Calling"><a href="#Parallel-Function-Calling" class="headerlink" title="Parallel Function Calling:"></a>Parallel Function Calling:</h4><p>并行函数调用是模型同时执行多个函数调用的能力，允许这些函数调用的效果和结果并行解决。这在函数需要很长时间的情况下特别有用，并减少了与 API 的往返次数。</p><h2 id="GPT回复格式遵循"><a href="#GPT回复格式遵循" class="headerlink" title="GPT回复格式遵循"></a>GPT回复格式遵循</h2><h3 id="格式遵循，返回JSON内容"><a href="#格式遵循，返回JSON内容" class="headerlink" title="格式遵循，返回JSON内容"></a>格式遵循，返回JSON内容</h3><p>有时候需要模型返回JSON格式的内容，为了防止返回格式异常并提高模型性能，在调用 <code>gpt-4-1106-preview</code> 或 <code>gpt-3.5-turbo-1106</code> 时，可以将 <code>response_format</code> 参数设置为 <code>&#123; &quot;type&quot;: &quot;json_object&quot; &#125;</code> 以启用 JSON 模式。启用 JSON 模式后，模型被限制为仅生成解析为有效 JSON 的字符串。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">client = OpenAI(api_key=api_key)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">return_json</span>():</span><br><span class="line">    response = client.chat.completions.create(</span><br><span class="line">        model=<span class="string">&quot;gpt-4-1106-preview&quot;</span>,  <span class="comment"># gpt-3.5-turbo-1106</span></span><br><span class="line">        messages=[</span><br><span class="line">            &#123;<span class="string">&quot;role&quot;</span>: <span class="string">&quot;system&quot;</span>, <span class="string">&quot;content&quot;</span>: <span class="string">&quot;You are a helpful assistant, return JSON format.&quot;</span>&#125;,  <span class="comment"># JSON is necessary</span></span><br><span class="line">            &#123;<span class="string">&quot;role&quot;</span>: <span class="string">&quot;user&quot;</span>, <span class="string">&quot;content&quot;</span>: <span class="string">&quot;谁赢了2020年的世界杯?&quot;</span>&#125;,</span><br><span class="line">        ],</span><br><span class="line">        response_format=&#123;<span class="string">&quot;type&quot;</span>: <span class="string">&quot;json_object&quot;</span>&#125; <span class="comment"># text default</span></span><br><span class="line">    )</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;response:&#x27;</span>, response.choices[<span class="number">0</span>].message.content)</span><br></pre></td></tr></table></figure><h4 id="返回示例"><a href="#返回示例" class="headerlink" title="返回示例"></a>返回示例</h4><p>谁赢了2022年的世界杯? 返回的内容如下：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;winner&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Argentina&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;event&quot;</span><span class="punctuation">:</span> <span class="string">&quot;FIFA World Cup 2022&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;runner_up&quot;</span><span class="punctuation">:</span> <span class="string">&quot;France&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;location&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Qatar&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;date&quot;</span><span class="punctuation">:</span> <span class="string">&quot;December 18, 2022&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>如果启用了 <code>response_format=&#123;&quot;type&quot;: &quot;json_object&quot;&#125;</code>，但不在 Message 中加入 JSON 相关描述，就会强制报错，如下：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span>&#x27;error&#x27;<span class="punctuation">:</span> <span class="punctuation">&#123;</span>&#x27;message&#x27;<span class="punctuation">:</span> <span class="string">&quot;&#x27;messages&#x27; must contain the word &#x27;json&#x27; in some form, to use &#x27;response_format&#x27; of type &#x27;json_object&#x27;.&quot;</span><span class="punctuation">,</span> &#x27;type&#x27;<span class="punctuation">:</span> &#x27;invalid_request_error&#x27;<span class="punctuation">,</span> &#x27;param&#x27;<span class="punctuation">:</span> &#x27;messages&#x27;<span class="punctuation">,</span> &#x27;code&#x27;<span class="punctuation">:</span> None<span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></div><script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css&quot; /&gt;&lt;div cla</summary>
      
    
    
    
    <category term="LLM" scheme="https://tobenot.github.io/categories/LLM/"/>
    
    
    <category term="LLM" scheme="https://tobenot.github.io/tags/LLM/"/>
    
    <category term="技术" scheme="https://tobenot.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="完整" scheme="https://tobenot.github.io/tags/%E5%AE%8C%E6%95%B4/"/>
    
    <category term="GPT" scheme="https://tobenot.github.io/tags/GPT/"/>
    
  </entry>
  
  <entry>
    <title>Docker实操</title>
    <link href="https://tobenot.github.io/2024/01/21/Tutorial-Docker/"/>
    <id>https://tobenot.github.io/2024/01/21/Tutorial-Docker/</id>
    <published>2024-01-21T14:41:41.000Z</published>
    <updated>2024-05-13T08:43:48.091Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css" /><div class=".article-gallery"><h2 id="Docker：轻量虚拟环境"><a href="#Docker：轻量虚拟环境" class="headerlink" title="Docker：轻量虚拟环境"></a>Docker：轻量虚拟环境</h2><p>Docker是一个轻量的虚拟环境，具有以下特点：</p><ul><li>可以对工作目录进行隔离。</li><li>可以打包一个虚拟环境，即插即用就能运行，比如别人不用装Python等。</li></ul><p>在 <a href="https://tobenot.top/2024/01/21/Dev-Log-Project-Alkaid/">Project Alkaid</a> 中有强烈的目录隔离需求，以防虚拟助手误删系统盘。</p><h3 id="学习资源"><a href="#学习资源" class="headerlink" title="学习资源"></a>学习资源</h3><ul><li><strong>概念和快速上手教程：</strong> <a href="https://www.bilibili.com/video/BV14s4y1i7Vf">Bilibili 视频</a></li><li><strong>官网：</strong> <a href="https://www.docker.com/docker">Docker 官网</a></li><li><strong>官网安装链接：</strong> <a href="https://www.docker.com/get-started/">Docker 安装指南</a></li></ul><p>问题：docker打不开，报错Docker Desktop Unexpected WSL error</p><p>windows下可能需要安装WSL2。以管理员权限打开Powershell，运行以下命令：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wsl <span class="literal">--status</span></span><br><span class="line">wsl <span class="literal">--install</span></span><br></pre></td></tr></table></figure><h3 id="实际应用示例"><a href="#实际应用示例" class="headerlink" title="实际应用示例"></a>实际应用示例</h3><p>以下是 <a href="https://tobenot.top/2024/01/21/Dev-Log-Project-Alkaid/">Project Alkaid</a> 中实际使用的一些示例：</p><ul><li><a href="https://github.com/tobenot/Project-Alkaid/blob/main/Dockerfile">示例 Dockerfile</a></li><li><a href="https://github.com/tobenot/Project-Alkaid/blob/main/.vscode/tasks.json">VSCode 中构建 Docker 和运行 Docker 容器的任务</a></li><li><a href="https://github.com/tobenot/Project-Alkaid/blob/main/.vscode/tasks.json">TODO: VSCode 中提取 Docker 中保存的文件的任务</a></li></ul><p>你可以使用镜像名字代替容器 ID 来提取文件。<code>docker cp</code> 命令的语法如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">cp</span> &lt;container_id&gt;:/path/in/container /path/on/host</span><br></pre></td></tr></table></figure><p>其中 <code>&lt;container_id&gt;</code> 可以是容器的实际 ID 或者容器的名称。所以你可以使用以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">cp</span> your_image_name:/usr/src/app/saved /saved</span><br></pre></td></tr></table></figure><p>确保将 <code>your_image_name</code> 替换为你实际的镜像名称。这样会从运行的容器中提取 <code>/usr/src/app/saved/</code> 目录并将其复制到当前工作目录的 <code>/saved/</code> 目录下。</p></div><script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css&quot; /&gt;&lt;div cla</summary>
      
    
    
    
    <category term="技术" scheme="https://tobenot.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="工作流" scheme="https://tobenot.github.io/tags/%E5%B7%A5%E4%BD%9C%E6%B5%81/"/>
    
    <category term="碎片" scheme="https://tobenot.github.io/tags/%E7%A2%8E%E7%89%87/"/>
    
    <category term="Docker" scheme="https://tobenot.github.io/tags/Docker/"/>
    
    <category term="虚拟化" scheme="https://tobenot.github.io/tags/%E8%99%9A%E6%8B%9F%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>已经弃坑的ProjectAlkaid开发日志</title>
    <link href="https://tobenot.github.io/2024/01/21/Dev-Log-Project-Alkaid/"/>
    <id>https://tobenot.github.io/2024/01/21/Dev-Log-Project-Alkaid/</id>
    <published>2024-01-21T14:37:56.000Z</published>
    <updated>2024-05-13T08:52:17.950Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css" /><div class=".article-gallery"><h2 id="弃坑"><a href="#弃坑" class="headerlink" title="弃坑"></a>弃坑</h2><p>弃坑原因：这种会有别人做的，还是去做开源贡献好了。我的主要方向也不在这里。</p><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p><a href="https://github.com/tobenot/Project-Alkaid">仓库地址</a></p><p>Project Alkaid是一个以MIT协议开源的，能自动写代码的虚拟助手，开发的初始原因是因为本人工作忙，希望有一个虚拟助手能帮我写<a href="https://tobenot.top/2023/11/26/Dev-Log-AI-Game/">AI故事游戏</a>的代码</p><p>技术选型是python, gpt, VSCode, docker</p><h2 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h2><p>Clone下来，用VSCode打开工程，VSCode的Terminal-&gt;Run Task…里面有构建和运行docker容器的脚本。<br>记得安装Docker。在Docker Desktop里面能更好的管理容器和终端。<br>虽然不用Docker其实也能跑，直接在VSCode里面开个终端输入python llm&#x2F;OpenAIChatExp.py<br>目前它还没那么危险，还不能读写文件</p><h2 id="2024-1-21"><a href="#2024-1-21" class="headerlink" title="2024.1.21"></a>2024.1.21</h2><p>新建文件夹<br><a href="https://github.com/tobenot/Project-Alkaid">仓库地址</a><br>被python的import整破防了，最后代码全放一个目录下了<br>搭建docker环境<br>写了一个gpt聊天客户端</p><p>大概是做了4h</p><h2 id="2024-1-27"><a href="#2024-1-27" class="headerlink" title="2024.1.27"></a>2024.1.27</h2><p>2.5h<br>写了一个Function Call示例<br>一开始是写了个加减乘除计算器<br>结果发现我们是有库可以调用的<br>调用一下就搞定了<br>我如果再花时间去弄更高级的计算器，或者弄连续自动分步调用，是不是在造轮子呢？<br>我要怎么能减少造轮子的情况？<br>我现在做Alkaid，是不是在造轮子？<br>因为它其实会比较像一个shell？</p><p>对话记录：<br>user: 算817<em>172</em>121<em>765</em>23<br>assistant: 817 * 172 * 121 * 765 * 23 &#x3D; 299,174,893,380<br>user: 算78668%239<br>assistant: 78668 % 239 &#x3D; 37<br>我验算过，都是准的</p><h2 id="2024-1-30"><a href="#2024-1-30" class="headerlink" title="2024.1.30"></a>2024.1.30</h2><p>项目暂时搁置<br>还是我亲自先做<a href="https://tobenot.top/2023/11/26/231126-AI-Game-Dev-Log/">AI故事游戏</a>吧，要答辩的</p></div><script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css&quot; /&gt;&lt;div cla</summary>
      
    
    
    
    <category term="蒸汽机" scheme="https://tobenot.github.io/categories/%E8%92%B8%E6%B1%BD%E6%9C%BA/"/>
    
    
    <category term="LLM" scheme="https://tobenot.github.io/tags/LLM/"/>
    
    <category term="工作流" scheme="https://tobenot.github.io/tags/%E5%B7%A5%E4%BD%9C%E6%B5%81/"/>
    
    <category term="碎片" scheme="https://tobenot.github.io/tags/%E7%A2%8E%E7%89%87/"/>
    
  </entry>
  
  <entry>
    <title>操场·高楼·太空电梯</title>
    <link href="https://tobenot.github.io/2024/01/20/Story-Playground-Skyscraper-SpaceElevator/"/>
    <id>https://tobenot.github.io/2024/01/20/Story-Playground-Skyscraper-SpaceElevator/</id>
    <published>2024-01-19T16:40:25.000Z</published>
    <updated>2024-06-28T13:30:16.374Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css" /><div class=".article-gallery"><p>操场·高楼·太空电梯</p><p>作者：苏敬峰<br>首发<a href="https://www.bilibili.com/read/cv11529157/">B站</a>于2021年06月01日（儿童节），全正文6440字，信息密度较高</p><p>在太阳还未升起的时候，惠就在操场上跑步了。</p><p>在太阳准备冒头的时候，惠慢了下来，走向了操场边沿，向坐在边沿护栏上的女人招手。</p><p>“蝎子~”</p><p>这是女人的外号，听说是在近百年前的战争时期，被同队的战士们赐予的。</p><p>惠张开双臂转了一圈，背对着初升的太阳走来。</p><p>“这地方的空气真是清新啊！”</p><p>蝎子点了点头，依然坐在金属护栏上不动，问惠：</p><p>“惠，没吃早餐吧，不会低血糖吗？”</p><p>惠已经走到蝎子面前了，她凑到蝎子耳边。</p><p>“偷偷吃了一点。希望头脑清楚些。”</p><p>蝎子睁大了眼睛，随后又放轻松了。</p><p>“也好吧。”</p><p>惠从蝎子脚边的背包里拿出自己的水瓶，也轻轻坐在操场边沿的护栏上，与蝎子一同看日出。</p><p>喝了几口水，惠问道：“楼下下雨了吗？”</p><p>蝎子面向惠，双手抓住坐着的护栏，往下望。</p><p>蝎子能看到每一层的窗户，它们密密麻麻地铺满了高楼的表面。蝎子看到下方的云彩如棉花田般整齐排列，慢悠悠地向远离高楼窗户的方向运动。</p><p>“可能吧，问客人。”蝎子说。</p><p>惠说：“客人也不一定知道。”</p><p>惠从护栏上跳下来，做出打伞的手势。</p><p>“总之我想要去领一把伞。”</p><p>蝎子认真端详着惠，等她继续说。</p><p>“我要领那个，童真款的，粉色的那把。”</p><p>这下蝎子可以接话了。</p><p>“就是那个，被雨淋到会叮叮咚咚的吧。”</p><p>“Perfect！就是那个，我就喜欢听那个声音！”</p><p>“那个供量不多，虽然拿的都是小孩子们，小孩子们也不是很多。”</p><p>“这次没有就下次嘛。”</p><p>现在是2112年，异能枯竭事件在几个月前发生了。人类们开始大力限制异能的使用，出台了各种在事件之前难以想象的法令。所有借助灵的活动，都受到了毁灭性的限制。</p><p>在这一栋赤道最高楼上方的操场上，除了惠，还有几个人在跑步锻炼。</p><p>惠刚刚想追着一个青年跑，但是怎么追都追不上。</p><p>操场边沿有许多锻炼器材，它们中的很多已经废弃很久了。</p><p>三四个小孩子在沙地里玩耍，惠看不懂他们在玩什么。</p><p>从远处传来一阵轰鸣声，一艘飞船拖着蓝色的尾焰径直飞向了操场，定在了操场边沿。</p><p>阳光刚好照在飞船前方的标志上。</p><p>蝎子看着飞船，说：“神舟货运，以后就要坐这玩意了吗。该改个名字，比如神舟载人什么的。”</p><p>惠拍拍蝎子，“今天之后我们一起回祖国训练深空工作吧，我想当太空人！”</p><p>蝎子笑笑，“好，这不是早说定了吗。将来我们会在你老公那边工作的。”</p><p>惠用力拍拍她，“才不是这个呢，组织安排我去哪我就去哪。”</p><p>时间差不多到了，记者们搬着大大小小的机器，从顶楼下方的入口蜂拥而至，在跑道外的边缘各自抢到了自己的位置，记者们中有黄头发的、棕头发的、黑头发的、红头发的。他们操着各种各样的语言，报道着这最后一次的事件。</p><p>“现在是六点十三分，我在赤道上的最高楼，基础大厦的顶端，我们即将见证在地球上进行的最后一次的太空电梯运载。地球轨道上的灵已经几乎没有了，维持太空电梯的工作已经变得十分危险了，在三个月内全球陆续发生了九起事故。在这一次运载之后，太空电梯将被淘汰。日后地球联合会大力探索解决超重问题的其他办法。”</p><p>记者们并没有急着来采访惠和蝎子，只有一位金发碧眼的少年，穿过了人群，快步向惠走来。少年身上的挎包摇动起来，发出一些舒服的声响。</p><p>“寻叶！”惠小跑上去抱住他，“我就知道你会来。”</p><p>少年从挎包里取出了一根棒棒糖，递给了惠，说：“呐，我特地给你带的。”</p><p>惠接过红色包装的棒棒糖。“好耶！”随后跑回蝎子坐的地方，把糖放进了地上的背包里。</p><p>惠又向少年走回来。“客人应该要来了，不过他没回我的消息。”</p><p>少年说：“毕竟时间还没到，感觉这里的一切都很准时。”</p><p>少年望向不远处的太空电梯，继续说：</p><p>“比起这个，我可是第一次在现实中见到太空电梯的样子。在科幻小说里读到的太空电梯应该是有很多很多缆绳连接的。”</p><p>惠说：“好好看看吧，我们有时候直接叫它光柱。”</p><p>少年说：“哦！确实是。一个很粗的光柱啊。”</p><p>远处看过去，操场另一头的太空电梯，正是一个光柱的模样。不过，如果不仔细看，绝对是看不清楚的，光柱的浅蓝光极淡，在一个圆柱面上各处游移，时而暗淡，时而微光，太空电梯仿佛在呼吸。</p><p>少年又转向惠。“以后我们还会搞太空电梯的吗，非灵能的。”</p><p>但是少年没等惠回答，又继续说：“操场边上这些设备，都是灵能的吗，看起来被禁用很久了。为什么没有清理掉呢？”</p><p>惠笑笑，说：“你可真有好奇心，不像克隆出来的那些算成几百岁的人。你是怎么上来的？”</p><p>少年仰起头，用手锤了锤自己的胸口，说：“我是走上来的。路上见识到了很多。”</p><p>惠鼓起掌来，“年轻真好啊，年轻。”</p><p>少年说：“惠姐姐也很年轻。”</p><p>两人笑起来。</p><p>惠把少年拉近，说：“摄像机凑过来一点，给我个特写~”</p><p>少年眨着眼睛，说：“好好好，让我把姐姐最好的一面录进去。”</p><p>少年的蓝眼睛反射着惠的笑容，如果仔细看，就能发现瞳孔中心的微微蓝光。</p><p>蝎子一直在一旁观赏着周围的一切，在一动不动许久之后，她对少年说：</p><p>“寻叶，对吧，他们中的很多人都在说着中文。”</p><p>少年走向蝎子，又看看各色皮肤的记者们。</p><p>“是啊。不过你不能忽视，地联开会还是讲英文。”</p><p>蝎子说：“寻叶，你带了传统摄像机吧。”</p><p>少年说：“要离开你多远才好？”</p><p>蝎子说：“除非你能飞。”</p><p>少年叉起腰。“我自己有灵能。”</p><p>蝎子摸摸少年的头，说：“别让灵能盾碎在你的眼睛前就好。”</p><p>“那比火星撞地球概率还低。”</p><p>蝎子说：“我知道有一个能力者，她可以改变物体的速度，也许她可以把火星扔过来。”</p><p>这下惠也笑起来了。</p><p>蝎子双手扶着护栏，收起了笑容，问：</p><p>“作为记者，也提点记者的问题吧。”</p><p>少年整了整衣领，站直，说：</p><p>“那就，作为太空电梯的最后两位发射员和维持员，你们有什么感想？”</p><p>少年还没问完，远处的记者们欢呼起来，太空电梯前的地面出现了一个蓝光绘制的四维超立方体的三维投影，在六次闪光之后，客人带着一个公文包出现在了太空电梯前。</p><p>惠看着少年的蓝眼睛，竖了个大拇指，说：“未来加油！”</p><p>惠和蝎子快步走向太空电梯，记者们急忙举起各种各样的设备，拍了起来。</p><p>惠走到客人面前，说：“好像迟到了几秒。”</p><p>客人笑笑，两人互相端详了几秒钟。</p><p>“瞬移可真是有牌面。”惠说。</p><p>蝎子凑上前。“客人，请确认你身上带的东西最少，什么其他的都别带。公文包我帮你放到货运飞船去吧。”蝎子拿过公文包，转身走向标有“神舟货运”的飞船边。</p><p>客人看了看不远处拍摄的记者们，摸了摸口袋。</p><p>“诶呀，不好意思，手机忘记放了。”</p><p>客人从口袋中拿出一块半透明的薄板，轻轻拍了拍惠的手臂。</p><p>“维持员也过来吧。”</p><p>在跑道上跑步的一个青年拿出了一块糖。咬碎崩解之后，他又开始跑起步，不过现在，任谁也说不清他到底在哪了。只有在百米跑道上被风驰电掣的青年带起来的一阵阵风，能让人感知到他不可忽视的存在。</p><p>惠跟着客人，也走到了飞船边，惠问：</p><p>“下面下雨了吗？”</p><p>客人说：“我没有直接看到，不过，嗯，我听到有雨声和雷声。”</p><p>“诶？”惠高兴起来。</p><p>客人拿起了蝎子刚刚放在货运架上的公文包，从里面拿出来一件衣物。客人把衣物抖开给惠看。</p><p>是一件粉色的雨衣，上面印着各种各样的图案，棒棒糖、草莓、小蛋糕。</p><p>在惠的震惊中，客人把雨衣递给惠。</p><p>“我特地准备送给你的。”</p><p>惠接过雨衣，把它叠好，说：“我一定会一直穿着它回家的，回我们的故土！”</p><p>“现在是六点四十七分，可以看到，客人、发射员和维持员都到位了，客人和维持员也换上了专用的轻质套装。他们准备越过太空电梯‘光柱’的屏障，之后发射就可以开始了。”一名棕色头发的记者用流利的中文快速向观众们报道。</p><p>少年在近处看着惠。</p><p>蝎子把一颗灵能糖递给惠，灵能糖看起来全然是一块祖母绿形的宝石，侧面看起来是一个正八边形，与核桃一般大，几乎纯粹的浅蓝色覆盖了宝石的每一处空隙。淡淡的蓝光蕴藏在宝石的棱角之中。</p><p>惠把灵能糖装进左边口袋，向蝎子点了点头，单手牵着客人穿过了太空电梯的光柱面，空气变得压抑起来。为了减小阻力，这里的空气做不到像操场上一样的清新。不过两人也没什么怨言。</p><p>惠和客人并排站在一起，看着蝎子和记者们，他们的双手都戴上了两个手环，不过只有惠的右手和客人的左手的手环中间有带子连接着。惠的右手用力扣着客人的左手。</p><p>惠说：“一定不要松手，不然会死的。”</p><p>客人说：“也不是第一次这样上去了。”</p><p>惠向蝎子喊：“发射员，可以开始了！”</p><p>记者们全神贯注。蝎子缓缓蹲下来，一只手按在了草地上。</p><p>蝎子身边的草地开始扭曲变形，对于在场的能力者来说，空气感觉也在扭曲。</p><p>少年睁大双眼，连忙退后。</p><p>从蝎子的手中传出一阵异响，声音越来越低沉洪亮，周围的人们都不敢说话。</p><p>操场上玩乐的小孩子和锻炼的人们都停下来，看向太空电梯。</p><p>一阵阵大风刮过操场。少年已经退到了刚刚蝎子所坐在的栏杆上，头发被吹乱了，少年的手臂上也出现了灵能盾的裂痕，天蓝色的光芒从裂缝中渗出。</p><p>客人和惠缓缓飘起来。</p><p>在蝎子的手离开草地的时候，震耳欲聋的爆炸声从她手中传出，大风立刻停止了。</p><p>客人和惠一瞬间从记者们的相机里消失了，记者们马上把相机抬高，都想捕捉到人类直接发射升空的奇景。</p><p>少年两臂流出血来，大口喘气，在所有记者中，也许他的摄像机是最灵敏的、最清晰的。</p><p>他的眼睛死死盯着上升中的两人，不想错过任何一个细节。</p><p>在比云层高几倍的高空中，客人津津有味地观赏着下方鳞次栉比的高楼大厦。</p><p>“风景真好，虽然。”客人停顿了一下，“有时候高楼也看腻了。总是在高楼之间穿行，也挺烦恼。在上面看，还算新颖。”</p><p>“那就多来操场锻炼吧，空气很好。”</p><p>在对话之间，两人已经沿着光柱上升了几万米，从现在这个位置看下去，地面平坦如宣纸。</p><p>两人一直低头看着脚下的大地，客人感慨：“就是最高的大厦，也变得很渺小了。在远处看着地球，也只是一个光点。”</p><p>客人感到身体被一个重锤砸碎，随后是一小段连续的震动与一阵一阵的冲击。客人感到头疼欲裂，身体也刀割一般地疼。惠的手握的更紧了，泛着蓝光的裂纹从她头顶向下蔓延，穿过了她的双眼，一直往下方进发。客人的头疼稍微缓解，不过他大声说：“惠，没事！不要逞强。”</p><p>惠抬头看向客人，举起左手指着远方。“你看！弧形的地平线！”</p><p>客人顺着惠的指向看过去。</p><p>从地球远处弧线上射来的太阳光，大多被光柱挡在了外面。惠本来有点看不清客人的脸，现在自己灵能盾的闪光，让她什么也看不见了。</p><p>不过太阳依旧闪耀。</p><p>惠左手伸进口袋里，小心翼翼地拿出灵能糖，放进嘴里咬了起来。</p><p>客人听到了咬碎硬物的声音和灵能糖崩溃的声音——对他来说再熟悉不过了。</p><p>“诶？惠，这是正常流程吗？”</p><p>灵能糖崩解出来的碎块沾满了惠的嘴，在嘴唇外面也放射状地散落着一些碎块。</p><p>惠身上的裂纹很快消失了，惠与客人四目相对。</p><p>惠笑着说：“这是最后一次维持，所以组织破费了，要让客人舒服。”</p><p>惠把身位移到了客人身前，她伸出左手，客人先伸出了右手。</p><p>现在两人十指相扣了。</p><p>手环上伸出了连接的带子。</p><p>客人感觉到了前所未有的舒适、平稳。</p><p>客人说：“正常来说一开始就该这样的。”</p><p>惠盯着客人，轻轻说：“这么多年了，过得还好吗？”</p><p>太空电梯底部，记者们聚集在操场边沿上，用各种各样的东西写着稿子。</p><p>有些能力者刚从楼下借到纸笔，气喘吁吁地也赶紧开始写了。</p><p>少年听着一个红头发记者的英语报道。</p><p>“维持员使用的能力是消除惯性，减小有效质量。历史上出现过的‘感叹号’机甲，十五吨重的大怪物，能在马路上奔跑而不踩坏路面，就是通过仿灵学学习的成果。”</p><p>“今后，通过增加速度和消除惯性运作的太空电梯，将暂时被历史淘汰。很长的一段时间里，我们不得不使用慢速方式或者超距瞬移，这也许会对太空探索造成一些阻碍。上帝保佑我们。”</p><p>不到七点一刻，惠和客人就以比洲际导弹还快的速度冲进了同步空间站。</p><p>在进入空间站之后，惠和客人感受到了千斤的压力，一双无形的大手把他们抓起来，放在了一座百层高楼上，这座高楼的顶端，也是一个巨大的操场，环绕的跑道应该不止一千米长。</p><p>空间站是一个大圆筒，远处的地面升起，环绕头顶，又落在身后。</p><p>客人对着遥远的地面张开双臂。“这倒是百看不厌啊！”</p><p>惠说：“我们以后说不定也能做深空的工作。”</p><p>并没有引擎的声音，一艘飞船从底下升起，停在了操场边上，惠多少被它吓了一跳。惠分明的看到，飞船头部有“天问探索”四个大字，和飘逸帅气的水墨图标。惠看到它后方只有两个方方正正的喷口。</p><p>惠的注意力完全被它吸引了。“是光速引擎啊！最新的飞船！我只是听过而已！”</p><p>客人说：“她叫惠。”</p><p>“诶？”</p><p>“我起的名。”</p><p>惠转头看着客人，笑起来。但是想到自己嘴上嘴里还有灵能糖崩解的残渣，惠又有点尴尬，避开客人的视线。</p><p>惠说：“要是寻叶也在这里，他肯定会激动死的吧。”</p><p>客人双手扶着惠的肩，说：</p><p>“你只有一颗糖吧？”</p><p>惠顿了顿，说：“不是，另一颗会在回家时吃的。”</p><p>客人说：“那就拿出来，让我把它变浓点吧。在这里我们是允许用能力的。”</p><p>惠一时语塞。</p><p>“话说，既然你要坐这种飞船，你们是去半人马座吧。”</p><p>返回时间到了。</p><p>记者们一激灵，穿过跑道，围到太空电梯旁边。</p><p> “太空电梯的返程是十分危险的，加速过程对于消除惯性不利，返程灵浓度更低。最近的法令规定了返程的维持员都要在返程时食用灵能糖。” 记者咬字清晰，语速惊人。</p><p>寻叶一直在人群后面，高楼的边栏上，与蝎子一起坐着。</p><p>少年问：“你见过事故吗？”</p><p>蝎子说：“很久以前，确实有见过直接摔下来摔得不成样子的。”</p><p>“那时候是一个大叔，摔下来的时候身上到处都是血和破碎的灵能盾，还把双腿摔断了。”</p><p>“光和血混在一起，惨不忍睹。一起下来的客人的情况还稍微好一点。”</p><p>“虽然都救回来了，大叔的腿也接上了。但是大叔后面就没干过这行了。也不知道现在去哪了。”</p><p>“其实客人也没追究他。”</p><p>蝎子把腿交叉，望着前面的草坪。</p><p>“他还挺厉害的，又努力又有天赋。”</p><p>“我和他挺好的。”</p><p>“我记得他躺在操场旁边晒太阳。”</p><p>蝎子看起来完全沉浸在了回忆之中，少年认真地看着她，全然不顾肩上碎出血的灵能盾。</p><p>“反正后面都有吃灵能糖了。”</p><p>惠在深空中向地球坠落，她向她的祖国望去。</p><p>“好高啊。”</p><p>记者们围在太空电梯旁边，焦急地等待。</p><p>远处出现一个黑点，少年看到了超高速下落的惠。</p><p>跑步的青年也停下来看，青年满嘴都是灵能糖的残渣，蓝色的碎片已经失去了光芒。</p><p>小孩子们也凑到一起围观。</p><p>蝎子从栏杆上跳下来，说：</p><p>“速度太快了。”</p><p>她快速跑到太空电梯下，抬头看下坠的惠，记者们给她让出了路。</p><p>少年依然坐在远远的后方，灵能盾的裂纹从他大腿上蔓延开来，蓝色的眼睛紧紧盯着越来越大的黑点。</p><p>已经能看清楚惠的姿态了。</p><p>惠在空中侧躺着，闭着眼睛自由落体，双手微微张开，拥抱着眼前的太空站、宇宙。</p><p>小孩子们兴奋起来：好快！</p><p>蝎子注视着上方。“不，不是的。混蛋。”</p><p>惠如同彗星一般，向这座高楼陨落。</p><p>在记者们、全球几千万观众的注视下，惠精准地砸在了太空电梯的入口处。</p><p>入口的地面碎开，在惠身边画了一个错综复杂的图案。</p><p>惠深陷进了地面，身下的灵能盾破碎发光。</p><p>蝎子急忙走上前。</p><p>惠看起来很放松，像是襁褓中睡着的婴儿。蓝光从她身下放射出来，在蓝光的照耀下，血也从坑中向外缓缓渗出。</p><p>蝎子摇了摇惠，并没有反应。</p><p>蝎子伸手摸了摸她身下的血，血沾满了她的手。</p><p>周围的观众们愣住了。</p><p>蝎子回头望着少年，少年已经走了过来，他的大腿也开始渗血。</p><p>少年并没有什么表情。“惠姐姐……”</p><p>蝎子的手臂被一只手抓住。她猛回头，看到了惠的笑脸。</p><p>“哈哈哈哈吓到了吧。扶我起来。”</p><p>惠一脸坏笑，蝎子长叹了一口气。</p><p>周围一片欢呼声和鼓掌声。</p><p>惠扶着地面站了起来，她身后的裂纹很快愈合，也不再有伤口，看起来毫发无伤。</p><p>惠对着记者们说：“这就是最后一次的表演！”</p><p>少年笑了。</p><p>蝎子抱住惠。什么也没说。</p><p>蝎子仔细看惠，惠嘴里的残渣和她见过无数次的不一样，即使已经结束了返程，灵能糖的残渣还是非常的亮，碎片也比以往密集，甚至连成了四根放射状的线，从嘴里到嘴外，像是一种鳞片。</p><p>蝎子说：“我说，你上去的时候就吃了糖吧。”</p><p>惠说：“我亲爱的又从光速飞船那里拿给我了一颗。”</p><p>“乱来，他不会有这个空闲的吧？”</p><p>“那你就不懂咯。”</p><p>“我什么都懂。”</p><p>在下坠之前，长筒型同步空间站的操场草坪上。</p><p>客人抱了上来，对惠说：</p><p>“这一颗也可以。”</p><p>惠静静地享受着这一刻。</p><p>客人摸摸她的头。</p><p>许久，客人推开怀抱，用双手把惠的脸托起。</p><p>两个人又一次四目相对。</p><p>“亲爱的，这么久以来辛苦了。”</p><p>空间站里的人造太阳熄灭了，高楼们纷纷亮起灯。</p><p>用异能解决超重问题而极速往返太空的太空电梯，终于在这个时候被时代淘汰了。</p></div><script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css&quot; /&gt;&lt;div cla</summary>
      
    
    
    
    <category term="小说" scheme="https://tobenot.github.io/categories/%E5%B0%8F%E8%AF%B4/"/>
    
    
    <category term="小说" scheme="https://tobenot.github.io/tags/%E5%B0%8F%E8%AF%B4/"/>
    
    <category term="恋爱" scheme="https://tobenot.github.io/tags/%E6%81%8B%E7%88%B1/"/>
    
    <category term="异能" scheme="https://tobenot.github.io/tags/%E5%BC%82%E8%83%BD/"/>
    
    <category term="科幻" scheme="https://tobenot.github.io/tags/%E7%A7%91%E5%B9%BB/"/>
    
    <category term="短篇" scheme="https://tobenot.github.io/tags/%E7%9F%AD%E7%AF%87/"/>
    
  </entry>
  
  <entry>
    <title>谈谈生命卷轴吧</title>
    <link href="https://tobenot.github.io/2024/01/03/Methodology-Now-Talk-About-LifeScroll/"/>
    <id>https://tobenot.github.io/2024/01/03/Methodology-Now-Talk-About-LifeScroll/</id>
    <published>2024-01-02T17:49:54.000Z</published>
    <updated>2024-05-13T08:48:01.864Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css" /><div class=".article-gallery"><p>【这篇文章以一种泛光的文字书写在羊皮纸上】</p><p>生命卷轴是一种游戏化的，后验的，记录式的数值化总结以及日记记录方式<br>三大要素：基础身体值、技能爱好值、快乐意义值<br>每天夜幕降临时进行一次仪式般的维护<br>每天关注自己的睡眠时光，运动情况和总体感觉去评基础身体值的变化（本蝶在这里还有一项“灵力”）<br>每天只要做了什么事，对应的技能爱好值就加个10，比较激动人心的话就涨上2030<br>满100升一级这样子，升级还要求在这方面有发生特别了不起的事情（里程碑），如果没有产生这些特殊时刻，就只能在99点徘徊啦（比如听歌 印象中在九级至少卡了半个月）<br>里程碑比如什么工程做到一个关键点了封包了，比如今天突然有升华似的进步什么的<br>每天给快乐意义评下级，快乐能负，意义就一直累积。在快乐那一栏开始写简短日记（评这俩总得有理有据）。其实这两项是先写的。快乐就如字面意思，意义就是推动爱好、追求理想、促进个人成长的程度。</p><p>经过了一年不间断的记录，我已经对生命卷轴的成长状态有些麻木了。</p><p>不过这个记录体系最重要的功能之一就是提醒我推动个人规划<br>如果有个方面的数值一直停滞不前，可能要有针对性地调整下目标<br>我刚刚尝试了一下“人升”APP<br>它的理念是以task来驱动，完成自己定制的任务获得经验值和金币，是先验的<br>这种类似番茄钟的理念，我感觉对于我们的日常生活来说是一种打扰</p><p>后验的生命卷轴机制对于日常生活并不会造成打扰<br>它给予我一种在事后评估自己成长的机会，而不是在事前设定任务时的压力。<br>它是一份静默的记录，不会干扰我日常的正常生活，却在需要的时候，提供了一个审视和反思的窗口。<br>它在平时无法激励我完成各种行动，只有在事后推进规划和反思总结的作用</p><p>也许下一步我可以试着加入正反馈？当然还是维持后验的，不打扰生活。<br>“人升”APP里面是可以用金币买自己定的奖励，也可以买别人定的奖励<br>它的网络交流这块挺有趣的，可以交流DIY的奖励和任务<br>但是我们对自己限制奖励，如果一定要完成什么才给奖励，这感觉是一种不必要的折磨<br>比如一个人每个工作日都要来杯蜜雪，现在突然跟他说要花金币来买才能喝<br>这不会太舒服</p><p>不过可以试试在SILVER当时用的心界奖励<br>用极晶盐来换心界里的东西<br>感觉可以搞搞，顺便还能助推心界主线</p><p>我还没和星髓渡海呢</p><p>【羊皮纸的右下角画了一个八齿的太阳】</p></div><script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css&quot; /&gt;&lt;div cla</summary>
      
    
    
    
    <category term="心界" scheme="https://tobenot.github.io/categories/%E5%BF%83%E7%95%8C/"/>
    
    
    <category term="完整" scheme="https://tobenot.github.io/tags/%E5%AE%8C%E6%95%B4/"/>
    
    <category term="思维" scheme="https://tobenot.github.io/tags/%E6%80%9D%E7%BB%B4/"/>
    
    <category term="心界" scheme="https://tobenot.github.io/tags/%E5%BF%83%E7%95%8C/"/>
    
  </entry>
  
  <entry>
    <title>谈谈生命卷轴</title>
    <link href="https://tobenot.github.io/2024/01/03/Methodology-Lets-Talk-About-LifeScroll/"/>
    <id>https://tobenot.github.io/2024/01/03/Methodology-Lets-Talk-About-LifeScroll/</id>
    <published>2024-01-02T17:45:54.000Z</published>
    <updated>2024-05-13T08:47:25.303Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css" /><div class=".article-gallery"><p>【这篇文字以一种平凡的笔墨书写在普通的A4纸上】</p><p>生命卷轴是一种游戏化的，后验的，记录式的数值化总结以及日记记录方式<br>三个部分：基础身体值、技能爱好值、快乐意义值<br>每天晚上维护一波<br>每天根据自己的睡眠时段，运动情况和总体感觉去评基础身体值的变化（本蝶在这里还有一项“灵力”）<br>每天只要做了什么事，对应的技能爱好值就加个10，做的比较猛的话加2030<br>满100升一级这样子，升级还要求在这方面有发生特别了不起的事情（里程碑），不然就在99卡着<br>（比如听歌 印象中在九级至少卡了半个月）<br>比如什么工程做到一个关键点了封包了，比如今天突然有升华似的进步什么的<br>每天给快乐意义评下级，快乐能负，意义就一直累积。在快乐那一栏开始写简短日记（评这俩总得有理有据）。其实这两项是先写的。快乐就如字面意思，意义就是推进爱好、推进理想、推进个人成长的程度。</p><p>我已经记了一年，目前我对其数值成长已经是一种麻木的状态</p><p>不过其最重要的作用应该是进行一定的警示，并且推进规划<br>有个东西半天不涨你总得有啥计划吧<br>我刚刚试用了一下“人升”APP<br>它的理念是task驱动的，完成自己定制的任务获得经验值和金币，是先验的<br>类似番茄钟的理念，我感觉对于我的日常生活来说是一种打扰</p><p>后验的生命卷轴机制对于日常生活不会造成打扰<br>大部分时候我都忘了有这个东西，到了睡觉前才想起来）<br>在平时无法完成对我们行动的激励，只有推进规划和反思总结的作用</p><p>也许下一步可以试着加入正反馈？当然还是维持后验，不打扰生活。<br>“人升”APP里面是可以用金币买自己定的奖励，也可以买别人定的奖励<br>网络交流这块挺有趣的，交流自己DIY的奖励和任务<br>但是对自己限制奖励，一定要完成什么才给奖励，感觉是一种不必要的折磨<br>比如一个人每天都喝杯蜜雪，突然跟他说要花金币来买才能喝<br>这种感觉</p><p>不过可以试试古代时用的心界奖励<br>“金币”可以买把心界里的剑什么的<br>当时叫极晶盐<br>感觉可以考古出来搞搞，顺便还能助推心界主线</p><p>还没和星髓渡海呢</p><p>【A4纸的右下角打印了一个八齿的太阳】</p></div><script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css&quot; /&gt;&lt;div cla</summary>
      
    
    
    
    <category term="蒸汽机" scheme="https://tobenot.github.io/categories/%E8%92%B8%E6%B1%BD%E6%9C%BA/"/>
    
    
    <category term="完整" scheme="https://tobenot.github.io/tags/%E5%AE%8C%E6%95%B4/"/>
    
    <category term="思维" scheme="https://tobenot.github.io/tags/%E6%80%9D%E7%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title>RSS订阅是什么以及怎么用</title>
    <link href="https://tobenot.github.io/2024/01/02/Tutorial-RSS/"/>
    <id>https://tobenot.github.io/2024/01/02/Tutorial-RSS/</id>
    <published>2024-01-02T15:03:36.000Z</published>
    <updated>2024-01-02T15:24:16.441Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css" /><div class=".article-gallery"><h2 id="RSS订阅是什么"><a href="#RSS订阅是什么" class="headerlink" title="RSS订阅是什么"></a>RSS订阅是什么</h2><p>RSS订阅是古老的东西</p><p>大概作用是订阅信息源，信息源发布新文章时，在RSS阅读器里面可以收到推送<br>比起上各种平台被推荐算法带着走，RSS订阅是可以考虑的方法</p><p>感觉用RSS订阅大家的博客是最实用的用法了）<br>并不是所有网站都能用RSS订阅，如果一个人的博客没有RSS订阅，去催他加上</p><h3 id="RSS订阅的详细介绍"><a href="#RSS订阅的详细介绍" class="headerlink" title="RSS订阅的详细介绍"></a>RSS订阅的详细介绍</h3><p>这里有知乎的一个文章，一文读通：<br><a href="https://zhuanlan.zhihu.com/p/349349861">知道RSS的人越少，我就越希望它能被人知道！</a></p><h2 id="先推荐一个RSS阅读器"><a href="#先推荐一个RSS阅读器" class="headerlink" title="先推荐一个RSS阅读器"></a>先推荐一个RSS阅读器</h2><p><a href="https://www.agrreader.xyz/">AgrReader官网</a></p><h2 id="挖掘网站的RSS订阅网址"><a href="#挖掘网站的RSS订阅网址" class="headerlink" title="挖掘网站的RSS订阅网址"></a>挖掘网站的RSS订阅网址</h2><p>Rsshub-Radar插件</p><p>Chrome打开这个网址就能安装：<br><a href="https://chromewebstore.google.com/detail/rsshub-radar/kefjpfngnndepjbopdmoebkipbgkggaa">Rsshub-Radar插件</a><br>装好后打开网站时，如果有RSS网址，就能在网址右边的插件管理里面看到RSS有个红点，告诉你RSS订阅网址</p><p>把网址放进RSS阅读器里就能完成订阅！</p><h2 id="给hexo博客添加RSS订阅"><a href="#给hexo博客添加RSS订阅" class="headerlink" title="给hexo博客添加RSS订阅"></a>给hexo博客添加RSS订阅</h2><p>用插件：<br><a href="https://blog.csdn.net/qq_38140292/article/details/119076455">【hexo】基础教程-四-新增RSS订阅</a><br>本网站使用该插件生成RSS订阅链接，欢迎订阅</p><p><a href="https://tobenot.github.io/atom.xml">订阅作家之屋</a></p></div><script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css&quot; /&gt;&lt;div cla</summary>
      
    
    
    
    <category term="蒸汽机" scheme="https://tobenot.github.io/categories/%E8%92%B8%E6%B1%BD%E6%9C%BA/"/>
    
    
    <category term="技术" scheme="https://tobenot.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="完整" scheme="https://tobenot.github.io/tags/%E5%AE%8C%E6%95%B4/"/>
    
  </entry>
  
  <entry>
    <title>再见2023</title>
    <link href="https://tobenot.github.io/2023/12/31/Record-Goodbye-2023/"/>
    <id>https://tobenot.github.io/2023/12/31/Record-Goodbye-2023/</id>
    <published>2023-12-31T14:31:36.000Z</published>
    <updated>2024-05-13T08:51:05.955Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css" /><div class=".article-gallery"><p>再见2023。<br>这一年发生了很多事。</p><h2 id="班"><a href="#班" class="headerlink" title="班"></a>班</h2><p>当时还在996。Contribution，我司雇我在。<br>人生第一场酒局，遵循不沾烟酒的原则，我都喝的可乐。</p><h2 id="开年的游戏"><a href="#开年的游戏" class="headerlink" title="开年的游戏"></a>开年的游戏</h2><p>过年那一段时间很喜欢玩气球塔防。当时很狂热，感觉自己可以打一辈子。<br>每个游戏都有这么一种幻觉。<br>再晚半个月流行了鹅鸭杀，边复习考试边玩。</p><h2 id="最幸福的时光"><a href="#最幸福的时光" class="headerlink" title="最幸福的时光"></a>最幸福的时光</h2><p>因为勇敢地去争取，免费拿到了一个GPT的Plus号。<br>打算拿它来写作。虽然实际上我AI水平还不行。最终我只是问他问题，小说都是我自己一个字一个字斟字酌句写的。<br>大概写了半个月。写出了鸿律篇。赶上了作为礼物的日子。<br>准备礼物，等待礼物送出，送出礼物，以及它们所代表的时光，都很幸福。<br>用AI用的多了起来。这时候我还没搞AI接入游戏。都在写作业上班。</p><h2 id="麝牛的诞生"><a href="#麝牛的诞生" class="headerlink" title="麝牛的诞生"></a>麝牛的诞生</h2><p>七月被人多次约饭约出来<br>觉得社交和外向很重要<br>于是开始到处约饭，到处建交<br>了解到了各种吃喝玩乐的地方</p><h2 id="过渡期的杂事"><a href="#过渡期的杂事" class="headerlink" title="过渡期的杂事"></a>过渡期的杂事</h2><p>开始一边秋招一边博德之门卡拉彼丘。<br>身体有点虚但是快乐度拉满<br>开始做虚拟恋人。第一次搞LLM接入游戏。</p><h2 id="十月"><a href="#十月" class="headerlink" title="十月"></a>十月</h2><p>秋招十月算是结束了。<br>还在卡拉彼丘和博德！<br>外出能力指数级上升。开始高强度约人吃饭。<br>认为合适的恋人还是很难找到的。</p><h2 id="运势"><a href="#运势" class="headerlink" title="运势"></a>运势</h2><p>有一个月运气贼好，去哪哪雨停。<br>有一个月运气贼差，去哪哪下雨。</p><h2 id="对我来说各种新的概念"><a href="#对我来说各种新的概念" class="headerlink" title="对我来说各种新的概念"></a>对我来说各种新的概念</h2><p>开始接触到mbti，正好需要这东西。<br>规划毕设。<br>开始了解到github的好处，markdown的好处，各种作为独立开发者的概念<br>逐渐向着独立开发者、开源开发者的概念进发。<br>先有自己，才有自己的新身份。</p><h2 id="年末的健康生活"><a href="#年末的健康生活" class="headerlink" title="年末的健康生活"></a>年末的健康生活</h2><p>十二月了，精神上变得挺健康的（真的），就是思维一直熵增，一段时间缺乏对思维的整理，就越来越乱。这时候开个心界大会，全部整理一下就能缓解。年末的时候找到了解决思维熵增的新方法，搞了新的笔记体系。</p><p>精神上健康，但是身体上开始虚了，睡得晚起得早。<br>每个周末都有事占满。<br>去了趟上海<br>考了个研<br>投入做LLM游戏</p><h2 id="收获"><a href="#收获" class="headerlink" title="收获"></a>收获</h2><p>现在看来，从23年的一月到十二月<br>排除写鸿律篇的那个月<br>能感觉到自己的灵力总体上是螺旋阶梯式提升<br>心灵感应变得越来越频繁<br>现在这个我<br>大概确实是我<br>我还没认识透</p><h2 id="2024目标"><a href="#2024目标" class="headerlink" title="2024目标"></a>2024目标</h2><p>2024年的目标是认识自己，找到安宁</p></div><script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css&quot; /&gt;&lt;div cla</summary>
      
    
    
    
    <category term="碎碎念" scheme="https://tobenot.github.io/categories/%E7%A2%8E%E7%A2%8E%E5%BF%B5/"/>
    
    
    <category term="完整" scheme="https://tobenot.github.io/tags/%E5%AE%8C%E6%95%B4/"/>
    
  </entry>
  
  <entry>
    <title>我的笔记软件选择与应用场景</title>
    <link href="https://tobenot.github.io/2023/12/28/Methodology-Optimal-Note-Choices/"/>
    <id>https://tobenot.github.io/2023/12/28/Methodology-Optimal-Note-Choices/</id>
    <published>2023-12-28T14:40:59.000Z</published>
    <updated>2024-05-13T08:52:51.042Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css" /><div class=".article-gallery"><h1 id="笔记软件选择"><a href="#笔记软件选择" class="headerlink" title="笔记软件选择"></a>笔记软件选择</h1><p>在数字化时代，选择一款适合自己的笔记软件变得尤为重要。不同的软件有不同的特点和用途，而我则根据我的需求在多个软件中进行了选择和应用。以下是我对几种常用笔记软件的评价和应用场景。</p><h2 id="幕布"><a href="#幕布" class="headerlink" title="幕布"></a>幕布</h2><p><strong>用途：云粘贴板，大纲导图</strong></p><p><strong>特点：</strong></p><ul><li>无感云同步，十分方便，手机端编辑也得心应手，免费。</li><li>不适合写大段文本，更适合关键内容的记录，大纲式写作。</li><li>不过使用Shift+Enter还是可以输入大片文本。</li><li>我对它的定位是云粘贴板和大纲导图，全同步，是记录文字的外置器官，随身携带的小本本。</li></ul><h2 id="Obsidian-黑曜石"><a href="#Obsidian-黑曜石" class="headerlink" title="Obsidian 黑曜石"></a>Obsidian 黑曜石</h2><p><strong>用途：详细技术性笔记，建立知识体系</strong></p><p><strong>特点：</strong></p><ul><li>支持Markdown格式的笔记。</li><li>数据存储在本地，更安全，可以使用git同步。</li><li>适合写大段文本，特别是详细的技术性笔记，类似写技术博客。</li><li>提供很帅的联系图功能，非常适合学习和建立知识体系，新东西加进来还能复习下老东西。</li><li>我在公司用来记录笔记，但不进行同步，确保数据的安全性。</li></ul><h2 id="坚果云Markdown"><a href="#坚果云Markdown" class="headerlink" title="坚果云Markdown"></a>坚果云Markdown</h2><p><strong>用途：碎片时间写文章</strong></p><p><strong>特点：</strong></p><ul><li>是一个基于坚果云的Markdown编辑器。</li><li>无感云同步，手机端编辑Markdown很方便，适合利用碎片时间写文章。</li><li>我在家和手机之间同步，写文章的地方。</li></ul><h2 id="OneNote"><a href="#OneNote" class="headerlink" title="OneNote"></a>OneNote</h2><p><strong>用途：个人项目管理，思维梳理</strong></p><p><strong>特点：</strong></p><ul><li>未使用手写功能，不作手写评价。</li><li>适用于排代办和产出灵感，自由排版。高考结束时我选了它作为电子化的All-In-One工具。事实证明一个无限延展的白板很适合发挥创造力，反思与发散。</li><li>在家用来梳理思绪，进行对个人的”项目管理”。</li><li>同步功能可以视为没有，关闭同步更舒服，定期本地备份就是了。</li></ul><h2 id="Word"><a href="#Word" class="headerlink" title="Word"></a>Word</h2><p><strong>用途：工作进度管理</strong></p><p><strong>特点：</strong></p><ul><li>所见即所得的编辑方式。</li><li>开多个文档不太方便，联系上下文较为不便。</li><li>主要用于工作进度管理，在公司中负责管理工作进展。</li></ul><h2 id="Typora"><a href="#Typora" class="headerlink" title="Typora"></a>Typora</h2><p><strong>特点：</strong></p><ul><li>据说写Markdown很方便。</li><li>贵。</li></ul><h2 id="Notion"><a href="#Notion" class="headerlink" title="Notion"></a>Notion</h2><p><strong>用途：团队项目管理</strong></p><p><strong>特点：</strong></p><ul><li>类似于TAPD，适用于团队项目管理。</li></ul><h1 id="不同应用场景的总结"><a href="#不同应用场景的总结" class="headerlink" title="不同应用场景的总结"></a>不同应用场景的总结</h1><ul><li><p><strong>在家：</strong></p><ul><li>幕布：云粘贴板，用于记录碎片化的东西。以及把碎片的东西取出来梳理一下。（比如这篇文章就是大纲转过来的）<br><a href="/img/Article/Optimal-Note-Choices.webp" title="这篇文章的幕布大纲" class="gallery-item" style="box-shadow: none;"> <img src="/img/Article/Optimal-Note-Choices.webp" alt="这篇文章的幕布大纲"></a></li><li>OneNote：主要用于个人日程管理和思维梳理。</li></ul></li><li><p><strong>在公司：</strong></p><ul><li>幕布：云粘贴板，用于记录碎片化的东西。</li><li>Obsidian：用于写详细的Markdown技术性笔记</li><li>Word：用于工作进度管理，做到哪啦？</li></ul></li><li><p><strong>在手机上：</strong></p><ul><li>幕布：云粘贴板，用于记录碎片化的东西。</li><li>坚果云Markdown：方便的Markdown同步功能，适合在手机上利用碎片时间写文章。</li></ul></li></ul><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>在不同场景中，我会灵活运用这些笔记软件，以满足我的不同需求。无论是记录碎片化的灵感，整理技术性的知识，还是进行团队项目管理，每款软件都有其独特的价值。选择适合自己需求的笔记软件，就像选择合适的工具一样，能够事半功倍地提高工作和学习效率。</p><h1 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h1><h2 id="2024-1-19"><a href="#2024-1-19" class="headerlink" title="2024.1.19"></a>2024.1.19</h2><p>幕布确实好列代办，可以在碎片时间列代办<br>但真要开干还是得移动到OneNote，好做各种标记</p><h2 id="2024-1-25"><a href="#2024-1-25" class="headerlink" title="2024.1.25"></a>2024.1.25</h2><p>这三天用notion给GGJ2024的校队拆单<br>发现notion作为团队协作还是很好用的<br>但是有些bug很难受，比如task有时候会被拆散父子关系，没法回退<br>而且免费的团队协作就1000个字能写<br>我们的单没拆一半就满了<br>5个人，开通无限空间，最便宜的套餐50美元一个月，太坑啦<br>不过可以开多个workspace，新的又能写1000个字<br>就是不太好管理就是了</p></div><script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css&quot; /&gt;&lt;div cla</summary>
      
    
    
    
    <category term="Workflow" scheme="https://tobenot.github.io/categories/Workflow/"/>
    
    
    <category term="工作流" scheme="https://tobenot.github.io/tags/%E5%B7%A5%E4%BD%9C%E6%B5%81/"/>
    
    <category term="完整" scheme="https://tobenot.github.io/tags/%E5%AE%8C%E6%95%B4/"/>
    
  </entry>
  
  <entry>
    <title>一键打开工作需要的程序和网页</title>
    <link href="https://tobenot.github.io/2023/12/27/Methodology-Tool-One-Click-Work/"/>
    <id>https://tobenot.github.io/2023/12/27/Methodology-Tool-One-Click-Work/</id>
    <published>2023-12-26T17:02:51.000Z</published>
    <updated>2024-05-13T08:53:54.755Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css" /><div class=".article-gallery"><p>本文将介绍如何创建一个简单而实用的批处理文件，通过一键启动，快速打开工作所需的程序和网页。</p><h2 id="批处理打开程序和网页"><a href="#批处理打开程序和网页" class="headerlink" title="批处理打开程序和网页"></a>批处理打开程序和网页</h2><p>新建一个txt，改后缀bat<br>找到浏览器、应用的本地地址，这个在快捷方式右键属性看“目标”就行了</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">@echo off</span><br><span class="line">chcp 65001 &gt; nul</span><br><span class="line"></span><br><span class="line">echo 正在启动工作环境...</span><br><span class="line"></span><br><span class="line">rem 启动Chrome浏览器并打开收藏夹和歌单</span><br><span class="line">start &quot;&quot; &quot;C:\Program Files (x86)\Google\Chrome\Application\chrome.exe&quot; &quot;https://space.bilibili.com/你的歌单&quot; &quot;https://www.bilibili.com/video/BV1PC4y1J75R/&quot;</span><br><span class="line"></span><br><span class="line">rem 启动OneNote</span><br><span class="line">start &quot;&quot; &quot;C:\Program Files\Microsoft Office\root\Office16\ONENOTE.EXE&quot;</span><br><span class="line"></span><br><span class="line">rem 启动QQ</span><br><span class="line">start &quot;&quot; &quot;C:\Program Files (x86)\Tencent\QQ\Bin\QQScLauncher.exe&quot;</span><br><span class="line"></span><br><span class="line">echo 工作环境已准备就绪！</span><br><span class="line">pause &gt;nul</span><br><span class="line">exit</span><br></pre></td></tr></table></figure><p>这时候运行这个批处理就能打开所有东西了。</p><p>这一行能让它等1秒</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">timeout /nobreak /t 1 &gt;nul</span><br></pre></td></tr></table></figure><p>如果你发现在关掉这个批处理窗口的时候程序炸了，加个后台运行参数 &#x2F;b</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rem 启动幕布</span><br><span class="line">start /b &quot;&quot; &quot;C:\Program Files (x86)\Mubu\幕布.exe&quot;</span><br></pre></td></tr></table></figure><h2 id="开机启动"><a href="#开机启动" class="headerlink" title="开机启动"></a>开机启动</h2><p>适用于Windows系统：</p><ol><li><p><strong>找到启动文件夹：</strong></p><ul><li>使用快捷键 Win + R 打开运行对话框。</li><li>输入 <code>shell:startup</code> 并按 Enter 键。</li></ul></li><li><p><strong>将批处理文件复制到启动文件夹：</strong></p><ul><li>将你的批处理文件复制到打开的启动文件夹中。</li></ul></li><li><p><strong>设置启动文件夹权限：</strong></p><ul><li>确保你对启动文件夹有写入权限，以便在那里创建或复制文件。</li></ul></li><li><p><strong>验证设置：</strong></p><ul><li>重新启动计算机，验证批处理文件是否在系统启动时运行。</li></ul></li></ol></div><script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css&quot; /&gt;&lt;div cla</summary>
      
    
    
    
    <category term="Workflow" scheme="https://tobenot.github.io/categories/Workflow/"/>
    
    
    <category term="工作流" scheme="https://tobenot.github.io/tags/%E5%B7%A5%E4%BD%9C%E6%B5%81/"/>
    
    <category term="技术" scheme="https://tobenot.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="完整" scheme="https://tobenot.github.io/tags/%E5%AE%8C%E6%95%B4/"/>
    
  </entry>
  
  <entry>
    <title>星海 [GPT生成]</title>
    <link href="https://tobenot.github.io/2023/12/20/Story-Star-Sea/"/>
    <id>https://tobenot.github.io/2023/12/20/Story-Star-Sea/</id>
    <published>2023-12-20T14:03:24.000Z</published>
    <updated>2024-06-28T13:30:13.320Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css" /><div class=".article-gallery"><p>星海<br>作者：苏敬峰<br>注：文章100%由GPT3.5web生成，作者未改动正文</p><p>我在幽暗的暗影之城中穿行，逐渐迷失在神秘的街巷中。灯光微弱，投下深邃的阴影，而城市似乎被一层幻影笼罩。在这梦幻般的城市中，我寻找着那位神秘的艺术家——艾莉雅。</p><p>最终，我来到了一座古老的艺术工坊，这里弥漫着创造力的氛围。门前摆放着一枚被星辰点缀的招牌，上书“艾莉雅的梦境工坊”。推开工坊的门，我看到一个身披暗紫色长袍的女子，她正专注地在一张画布上勾勒着流动的梦幻。</p><p>艾莉雅的容貌仿佛是梦中的幻影，瞳孔深邃如星空，冷静而矜持。她的长袍随着她的动作轻舞，仿佛是一位舞者在夜空中演绎着神秘的舞蹈。我注视着她，感受到一股深沉的艺术气息，以及内心深处的沉寂。</p><p>悄然走近，我静静地站在她身后，注视着她深邃的眼眸。感受到她的创作中蕴含的情感，我微笑着开口：“艾莉雅，你的画布上流淌的梦幻，仿佛是星辰的诗篇。你是一位伟大的艺术家，创造了这个美妙而神秘的梦境。”</p><p>她停下手中的画笔，转身面对我，目光似有千言万语。我继续说：“然而在这个梦中，我见到了我的恋人，她仿佛在无尽的幻想中沉睡，被失落的记忆所困扰。我相信你能理解失去的痛苦，以及唤醒沉睡心灵的渴望。”</p><p>她在寂静中沉默片刻，然后轻声开口：“你的言辞触动了我的内心深处，带我回到了那段被时间遗忘的爱情。在星球毁灭的阴霾中，我失去了我深爱的伴侣。”</p><p>她的声音富有音律，如同梦幻的音符飘荡在空气中。她继续说：“梦境中的云雾，星光雨，古老的星际城市，以及那首古老的星歌，都是我心灵深处的痛苦与回忆。你是否愿意与我一同解开这些谜团？唤醒我内心深处的情感，也许我们能在梦境中找到你的恋人。”</p><p>我心中一阵欣慰，微微一笑，感谢艾莉雅的开放与理解。我轻声说道：“谢谢你，艾莉雅。我愿意与你共同解开这些梦境的谜团，唤醒你深埋内心的情感。让我们一同面对梦境中的挑战，收集失散的记忆，为了两颗灵魂的相会而努力。”</p><p>我凝视着她深邃的眼眸，表达着决心和信任。随后，我提议：“让我们开始吧，踏入这个梦境迷宫，寻找线索，触及内心的深处。或许，我们能够在这片梦幻之地找到属于你和我恋人的真实。”</p><p>在梦境的迷宫中，我紧随艾莉雅的步伐，迷宫通道如时空般弯曲交错，景象在眼前瞬间变化，深邃的光芒投射在通道的墙壁上，勾勒出神秘的符号。艾莉雅微微颔首，她的长袍轻轻飘动，仿佛是梦境中的一部分。她注视着我，眼中透露出一抹坚定：“我们共同踏上这段梦幻之旅，寻找失散的记忆，解开心底的谜团。梦境中隐藏着我深埋的情感，也可能是你恋人的沉睡之源。”</p><p>她伸手轻轻一挥，梦境的氛围陡然变幻，周围化为深邃的迷宫。她说：“在这里，你将面临心灵的挑战，收集失散的回忆。记住，谜团的解开可能唤醒我内心深处的柔软，也为你和恋人的重逢铺平道路。愿我们共同战胜梦境的迷离，找到属于我们的真实。”梦境的迷宫散发着神秘的光芒，仿佛在等待我们的探索。我感受到心灵的挑战即将开始，而艾莉雅的目光中充满了期待。</p><p>我们踏入梦幻迷宫，开始探寻失散的记忆，四周景象瞬息万变，神秘氛围环绕。我注视着迷宫的角落，寻找线索，解开心灵谜团。来到交叉路口，通道纷繁交错，思考着选择哪个方向。我试图感知心灵引导，寻找特殊迹象，引导我们前行。每一步都可能是解开谜团的关键，也是唤醒艾莉雅内心柔软的契机。</p><p>在梦幻的迷宫中，紫色光芒弥漫，悠扬音律在空气中回响。星空镜投下深邃星影，仿佛艾莉雅心灵的守护者。通道交错，引导力量呼唤着我，迷宫充满神秘，隐藏答案。深思熟虑的瞬间，微弱的心灵感应，艾莉雅轻声：“心灵的引导是正确的，勇敢前行，解开梦境的秘密。”</p><p>我静心前行，紫色光芒指引着我。通道尽头，梦幻音符传来，似乎是记忆的呼唤。步入通道，音律随脚步回响。期待梦幻旅程中可能展现的记忆片段，寻找艾莉雅失散的心灵碎片，解锁更多迷宫谜团。深入通道，保持警觉，准备迎接梦境中的挑战。或许在这深邃梦境中，我将找到关于艾莉雅和我恋人的更多线索。</p><p>穿越迷宫的通道，我跟随着梦幻音符的轻声引导，紫色光芒在我周围舞动，如同星辰的精灵在引领我穿越时空。脚步逐渐靠近通道尽头，悠扬的音律渐次升华，化为一曲梦幻的歌。</p><p>歌声在迷宫中回响，通道尽头展现出一片宽敞的星光空间。艾莉雅的身影在光芒中浮现，她凝望着星空，歌声伴随着她的深情吟唱。</p><p>“星辰之夜何其美，梦境深处恋曲回。” “回首往昔记忆碎，爱意深埋星际里。” “曾经的笑容何处去，夜空中星辰晶莹。” “你的心声是否闻到，梦中迷失的爱情呼唤。”</p><p>艾莉雅的歌声中透露着迷惑和矛盾，如同她内心深处的情感在对抗着失去的痛苦。此时，轮到我了，通过歌声在心灵的舞台上回应她的疑虑，为她解锁更多记忆的碎片。</p><p>“梦幻之夜如诗般美，星光闪耀在深夜里。” “回响着歌声的星辰空，记忆的碎片在心中游。” “过去的笑容何处寻，星空中的痕迹渐现。” “你的心声如梦幻，爱情的呼唤永不散。”</p><p>以诗意的语言回应着艾莉雅的歌声，通过富有隐喻的歌词表达对她内心深处矛盾情感的理解。我的歌声仿佛是一阵轻风，温柔地吹拂她沉睡的心灵。期待我的歌声能够触动她内心深处的柔软，解锁更多关于她失散记忆的碎片。</p><p>星光洒落，我的歌声在梦境中轻轻回响，如同悠扬的旋律在星空中徜徉。艾莉雅注视着我，她的眸子中闪烁着一抹迷离，仿佛在追随着我歌词中的时光迷雾。</p><p>歌声逐渐消失，梦境的氛围发生了巨变。星空中的光芒变得更加璀璨，迷宫的墙壁上显现出一片古老的城市废墟，宛如艾莉雅心中的回忆之地。</p><p>她的身影在星光下更加清晰，目光中透露着一抹感激和柔软。她轻声说：“你的歌声仿佛触动了我心底深处的记忆，带我回到那个美丽的星夜。也许，我们正在逐渐接近解开谜团的关键。”</p><p>梦境的迷宫继续扩展，将我们引向一片星光之城，这里隐藏着更多的线索和记忆碎片。我们共同踏上这片城市的废墟，寻找失散的记忆，为两个灵魂的相会而不懈努力。在星光之夜中，我们的脚步融入了这座城市的废墟，追寻着被遗忘的爱情之声。</p><p>我站在星光之城的废墟中，古老的建筑在星空的映衬下显得幽深而沧桑。星际宫殿的残骸高傲地矗立，仿佛是曾经的爱情见证。艾莉雅注视着那座残缺的宫殿，她的目光中透露着复杂的情感。她轻声歌唱：“星光之城，曾经的爱情坠落。残缺的宫殿，寄托着别离的痛楚。”她的歌声回荡在废墟中，星光似乎在为这段遗忘的爱情述说。</p><p>现在，我的目标是在这座城市废墟中找到关键的线索，解开艾莉雅心中的疑虑。或许，我的歌声能够揭示这座宫殿的故事，帮助她理解失去的痛苦。我决定寻找宫殿的碎片，深信在这些残骸中可能隐藏着关键的线索。我仔细绕过星光之城的废墟，逐一检视每一片残缺的建筑物。星际宫殿的残骸似乎散落在城市的各个角落，仿佛在诉说一段曾经的宏伟爱情故事。</p><p>我弯腰检查一片残破的墙壁，发现上面雕刻着一些星辰图案，似乎是曾经宫殿的装饰。这块碎片独具特色，星辰的图案在残破中依然熠熠生辉，让我深感这可能是一段关键线索，或许能够揭示宫殿的神秘故事，也帮助艾莉雅理解失去的痛楚。我拾起这块星辰图案的碎片，注视着它，心中充满期待。每一个废墟的角落都可能隐藏着记忆的碎片，而我将努力寻找这些碎片，为梦境的继续解谜。</p><p>巧妙地寻找宫殿的碎片，我注意到一块星辰图案的残骸。这片碎片仿佛在宫殿倒塌时保留了一部分美丽的装饰，蕴含着关键的线索。当我将碎片拿在手中时，艾莉雅的目光注视着我，微微点头，仿佛在默许我的选择。梦境中的氛围再次变幻，宫殿的残影逐渐恢复，展现出曾经的辉煌。星光之城中响起了宫殿中回荡的迷人旋律，艾莉雅的歌声再度响起：“星辰之宫，爱情的殿堂。碎裂的图案，叙述着我们的过往。”</p><p>现在，是时候回应她的歌声，通过我的歌词揭示宫殿的故事，或许这能够帮助她理解失去的痛苦。<br>“星辰之宫，爱情的殿堂，”<br>“碎裂的图案，叙述着我们的过往。”<br>“在宏伟的墙壁中闪耀的星光，”<br>“映照着我们曾经的甜蜜时光。”<br>“爱意如梦幻般飘荡，”<br>“在每一片残碎的星际之墙上。”<br>“宫殿倒塌的瞬间，”<br>“是我们爱情的交响曲，如梦的终章。”<br>“星辰之夜回荡的旋律，”<br>“承载着你我深深的眷恋。”<br>“即便宫殿已成废墟，”<br>“我们的爱情仍在星光中闪烁。”</p><p>我以歌声回应着宫殿的故事，试图通过歌词表达我对这段爱情过往的理解。我的歌声在星光之城中回荡，似乎让废墟中的美丽宫殿再度焕发出曾经的辉煌。我期待这首歌能够触动艾莉雅心底深处的情感，帮助她理解失去的痛苦。</p><p>我的歌声在星光之城中回荡，如同一曲梦幻的交响曲，唤起了宫殿的辉煌时光。艾莉雅静静地倾听，她的眼眸中闪烁着悠远的星光。歌声渐渐消散，而梦境中的星光之城似乎焕发出更为璀璨的光芒。宫殿的残骸中，一道光辉从星际之墙中散发出来，如同一束暗示着新的线索和记忆的光。</p><p>艾莉雅微微一笑，感激地点了点头：“你的歌声如同一束星光，照亮了曾经的爱情宫殿。或许，这就是我一直在寻找的记忆碎片。”</p><p>此刻，梦境中的迷宫继续深入，我们所在的空间变成了一片星光之海，隐藏着更多的谜团和故事。我们共同迎接着这场梦境之旅的挑战，寻找失散的记忆，为两个灵魂的相会而继续努力。</p><p>在星光之海中，梦境的最终挑战即将展开。我们身处星辰舞动的空间，周围弥漫着星光的芬芳。艾莉雅注视着远方，她的眼眸中透露出期待与矛盾。</p><p>突然间，星光之海中浮现出一个模糊的身影，如同一团幽影穿越时光。那是艾莉雅失散的恋人，她心头挥之不去的记忆。艾莉雅微微颤抖，似乎感受到那份深深的眷恋。我感到一阵神秘的力量，仿佛是梦境中的终极契机。</p><p>我决定引导艾莉雅深入回忆，通过歌声和真挚的情感，让她更清晰地看到恋人的影像。我开始歌唱，旋律如同一道微风，轻轻吹拂着星光之海。”在星辰的海洋里，”我歌声响彻星光之海，”恋人的影像随波荡漾。” 我的歌声伴随着星光的闪耀，”闭上眼，深呼吸，” 温柔地穿梭在梦幻的空间中。” 让记忆在梦中唤醒。</p><p>我试图用歌声将艾莉雅引向她失散的恋人，让她沉浸在那段美好的时光中，感受到深深的眷恋。我希望这首歌能够点燃她心中的记忆之火，让失散的灵魂在星光之海中相会。在歌声的陪伴下，我继续注视着艾莉雅，期待着她是否能够透过迷雾看到恋人的身影，唤醒沉睡的情感。</p><p>在我深情的歌声中，星光之海更显得波澜壮阔。我闭上了眼睛，身体微微颤抖，仿佛在感受远方的回音。随着歌声逐渐升腾，星光之海中的幽影愈发清晰，一种神秘的力量萦绕在梦境之中。</p><p>突然间，星光之海中浮现出一道光芒，那是艾莉雅失散的恋人的幻影。她的身影在星光中舞动，美丽而悠远，如同一个永恒的梦。艾莉雅的眸子中泛起了泪光，她似乎感到了心底深处的情感被唤醒。</p><p>“你…你成功了。” 艾莉雅轻声说道，她的声音中带着难以言喻的情感。她深深地看着那个星辰之影，轻轻歌唱起来：“星光之间，永恒相随，梦境的边缘，你我相遇。在这片星海，记忆重回，失散的灵魂，终于相拥。”</p><p>我的歌声如同一阵风，吹散了梦境中的迷雾。星光之海渐渐宁静下来，而她的恋人的幻影也逐渐消散，仿佛在告别一段美好的时光。我成功触动了艾莉雅深处的情感，唤醒了她沉睡的心灵。梦境中的迷宫也在这瞬间散去，为两个灵魂的相会画上了完美的句号。</p><p>在梦幻之城的最深处，一场星辰雨突然降临。无数闪烁的星光如钻石般洒落，点缀着整个梦境。在星光中，各种幻影渐次浮现，那些曾被沉睡的灵魂和爱人们，如同从梦境的迷宫中苏醒，重新回到这片神秘的城市。</p><p>我的恋人也在星光中出现，她的眼中充满了对我的深深眷恋。我们相拥而立，感受到梦境中的美好时刻。其他被梦境所困扰的灵魂也在星光中找到了彼此，一场心灵的相会在梦幻之城的深夜中拉开帷幕。</p><p>艾莉雅静静地注视着这一切，她的眼眸中闪烁着悔意和喜悦。星辰雨洗刷着她的心灵，让她重新感受到梦境的真实和美好。她轻声歌唱：“星辰之城，梦幻的谜境，在迷宫的尽头，相会的钟声。失散的灵魂，如今相聚，爱意如星光，永不磨灭。”</p><p>随着她的歌声，星辰雨更加璀璨，将整个梦境笼罩在温暖的光辉之中。梦境的迷宫彻底散去，而我和其他灵魂们，也彼此找到了归宿。梦境之城在星光中渐行渐远，如同一个美丽的梦。艾莉雅的身影在星光中逐渐消失，但她的笑容却留存在我的心中。这个幽暗的暗影之城终于迎来了解救和救赎，而我和我的恋人也将带着这段美好的回忆走出梦幻之地。</p></div><script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css&quot; /&gt;&lt;div cla</summary>
      
    
    
    
    <category term="小说" scheme="https://tobenot.github.io/categories/%E5%B0%8F%E8%AF%B4/"/>
    
    
    <category term="小说" scheme="https://tobenot.github.io/tags/%E5%B0%8F%E8%AF%B4/"/>
    
    <category term="梦幻" scheme="https://tobenot.github.io/tags/%E6%A2%A6%E5%B9%BB/"/>
    
  </entry>
  
  <entry>
    <title>古老的大学知识</title>
    <link href="https://tobenot.github.io/2023/12/17/Tutorial-Ancient-University-Knowledge/"/>
    <id>https://tobenot.github.io/2023/12/17/Tutorial-Ancient-University-Knowledge/</id>
    <published>2023-12-17T11:20:41.000Z</published>
    <updated>2023-12-19T17:08:50.182Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css" /><div class=".article-gallery"><p>其实是方便本地看markdown格式用的，网页好像暂时渲染不了公式</p><h2 id="高等数学"><a href="#高等数学" class="headerlink" title="高等数学"></a>高等数学</h2><h3 id="等价无穷小"><a href="#等价无穷小" class="headerlink" title="等价无穷小"></a>等价无穷小</h3><p>题：求无穷小量中最高阶的。</p><p>等价无穷小是微积分中一个重要的概念，用于描述当一个变量趋向于某个值时，与之等价的、增长率相近的另一个变量。在这里，我们通常用符号 “∼” 表示等价。</p><p>高阶无穷小量是一种比低阶无穷小量更快趋近于零的无穷小量。</p><p>设 f(x) 和 g(x) 是在某一点（通常是 x&#x3D;0）附近定义的函数，如果 $\lim_{x \to 0} \frac{f(x)}{g(x)} &#x3D; 1$，那么我们称 f(x) 是 g(x) 的等价无穷小，记作 (f(x) \sim g(x))。</p><p>一些常见的等价无穷小关系包括：</p><ol><li><p><strong>(x \sim x^n):</strong> 当 (x) 趋近于零时，(x) 与 (x^n) 是等价的，其中 (n) 是任意实数。</p></li><li><p><strong>(e^x - 1 \sim x):</strong> 当 (x) 趋近于零时，(e^x - 1) 与 (x) 是等价的。</p></li><li><p><strong>(\sin(x) \sim x):</strong> 当 (x) 趋近于零时，(\sin(x)) 与 (x) 是等价的。</p></li><li><p><strong>(\tan(x) \sim x):</strong> 当 (x) 趋近于零时，(\tan(x)) 与 (x) 是等价的。</p></li></ol><p>当 (x) 趋近于零时，可以讨论 (\ln(x)) 和 (1 - \cos(x)) 的等价无穷小关系。</p><ol><li><p><strong>(\ln(x)) 和 (x - 1):</strong><br>[\lim_{x \to 0} \frac{\ln(x)}{x - 1}]</p><p>在这种情况下，可以应用洛必达法则（L’Hôpital’s Rule），对分子和分母分别求导，然后再取极限。具体地：</p><p>[\lim_{x \to 0} \frac{\ln(x)}{x - 1} &#x3D; \lim_{x \to 0} \frac{\frac{1}{x}}{1} &#x3D; \lim_{x \to 0} \frac{1}{x}]</p><p>这表明 (\ln(x)) 与 (x - 1) 是等价的。</p></li><li><p><strong>(1 - \cos(x)) 和 (\frac{x^2}{2}):</strong><br>[\lim_{x \to 0} \frac{1 - \cos(x)}{\frac{x^2}{2}}]</p><p>同样使用洛必达法则：</p><p>[\lim_{x \to 0} \frac{1 - \cos(x)}{\frac{x^2}{2}} &#x3D; \lim_{x \to 0} \frac{\sin(x)}{x} &#x3D; 1]</p><p>这表明 (1 - \cos(x)) 与 (\frac{x^2}{2}) 是等价的。</p></li></ol><p>综合上述结果，可以得出 (\ln(x)) 与 (x - 1) 在 (x) 趋近于零时是等价的，而 (1 - \cos(x)) 与 (\frac{x^2}{2}) 在 (x) 趋近于零时是等价的。</p><p>考虑 (\sqrt{\sin^3 t})，我们可以使用泰勒展开来近似 (\sin t) 在 (t&#x3D;0) 处的行为：</p><p>[\sin t \approx t]</p><p>然后将这个近似代入 (\sin^3 t) 中：</p><p>[\sin^3 t \approx t^3]</p><p>最后取平方根：</p><p>[\sqrt{\sin^3 t} \approx \sqrt{t^3} &#x3D; t^{3&#x2F;2}]</p><p>因此，当 (t) 趋近于零时，(\sqrt{\sin^3 t}) 与 (t^{3&#x2F;2}) 是等价的。</p><p>总结起来，当 (t) 趋近于零时，(\sqrt{\sin^3 t}) 与 (t^{3&#x2F;2}) 是等价的无穷小关系。</p><p>等价无穷小的概念在极限计算、渐近分析等数学问题中有广泛的应用。通过使用等价无穷小，我们可以简化复杂的表达式，更容易理解函数的增长性质。在处理极限问题时，等价无穷小也是一种常用的技巧。</p><h3 id="间断点和第二类间断点"><a href="#间断点和第二类间断点" class="headerlink" title="间断点和第二类间断点"></a>间断点和第二类间断点</h3><p>题：求函数的第二类间断点个数。<br>$f(x)&#x3D;\frac{\mathrm{e}^{\frac{1}{x-1}} \ln |1+x|}{\left(\mathrm{e}^x-1\right)(x-2)}$</p><p><strong>间断点（Discontinuity）：</strong><br>间断点是函数在某一点或某一集合上不连续的现象，分为可去间断点、跳跃间断点和无穷间断点。</p><p><strong>第二类间断点（Type II Discontinuity）：</strong><br>第二类间断点处函数的左右极限至少有一个不存在。<br><strong>无穷大就是不存在</strong><br><a href="https://baike.baidu.com/item/%E7%AC%AC%E4%BA%8C%E7%B1%BB%E9%97%B4%E6%96%AD%E7%82%B9/2953993?fr=ge_ala">https://baike.baidu.com/item/%E7%AC%AC%E4%BA%8C%E7%B1%BB%E9%97%B4%E6%96%AD%E7%82%B9/2953993?fr=ge_ala</a><br><a href="https://baike.baidu.com/item/%E6%97%A0%E7%A9%B7%E9%97%B4%E6%96%AD%E7%82%B9/3531630?fromModule=lemma_inlink">https://baike.baidu.com/item/%E6%97%A0%E7%A9%B7%E9%97%B4%E6%96%AD%E7%82%B9/3531630?fromModule=lemma_inlink</a></p><h3 id="函数间断点的求解"><a href="#函数间断点的求解" class="headerlink" title="函数间断点的求解"></a>函数间断点的求解</h3><p>给定函数：</p><p>[ f(x) &#x3D; \frac{\mathrm{e}^{\frac{1}{x-1}} \ln |1+x|}{(\mathrm{e}^x-1)(x-2)} ]</p><p><strong>可能的间断点：</strong></p><ol><li>(x &#x3D; -1) （由于对数函数中的 (1+x)，要求 (x &gt; -1)）</li><li>(x &#x3D; 0) （由于对数函数中的 (1+x)，要求 (x &gt; -1))</li><li>(x &#x3D; 1) （由于分母中有 ((x-1)) 的因式，导致分母为零）</li><li>(x &#x3D; 2) （由于分母中有 ((x-2)) 的因式，导致分母为零）</li></ol><p><strong>定义域：</strong><br>[ (-\infty, -1) \cup (-1, 0) \cup (0, 1) \cup (1, 2) \cup (2, +\infty) ]</p><p>接下来，分析这些点附近的极限是否存在且是否相等，以确定它们是否是间断点。在具体的计算中，可能需要使用极限计算的技巧，例如泰勒展开、洛必达法则等。</p><h3 id="简化含有-arcsin-sqrt-x-的积分"><a href="#简化含有-arcsin-sqrt-x-的积分" class="headerlink" title="简化含有 (\arcsin(\sqrt{x})) 的积分"></a>简化含有 (\arcsin(\sqrt{x})) 的积分</h3><h4 id="原积分"><a href="#原积分" class="headerlink" title="原积分"></a>原积分</h4><p>我们考虑以下积分形式：</p><p>[<br>\int \frac{\arcsin(\sqrt{x})}{\sqrt{x(1-x)}} , dx<br>]</p><h4 id="换元思路"><a href="#换元思路" class="headerlink" title="换元思路"></a>换元思路</h4><p>处理含有根号的积分时，通常使用换元法或三角换元法来消除根号，这是积分问题中常见的思路。</p><p><strong>三角换元法：</strong> 通过选择适当的三角函数和角度，将积分中的根号表达式转化为更容易积分的形式。</p><p>我们选择 (x &#x3D; \sin^2(t)) （因为我们要消掉根号，还要消掉上面的arcsin），则 (\sqrt{x} &#x3D; \sin(t))，并且 (dx &#x3D; 2\sin(t)\cos(t) , dt)。同时，由三角恒等式 (\sin^2(t) + \cos^2(t) &#x3D; 1)，我们有 (1 - x &#x3D; \cos^2(t))。</p><p>原积分可以表示为：</p><p>[<br>\int \frac{\arcsin(\sqrt{x})}{\sqrt{x(1-x)}} , dx &#x3D; \int \frac{\arcsin(\sin(t))}{\sqrt{\sin^2(t)\cos^2(t)}} \cdot 2\sin(t)\cos(t) , dt<br>]</p><p>这可以简化为：</p><p>[<br>\int 2t , dt<br>]</p><p>对 (t^2) 求导，得到 (2t)，因此原积分等于 (t^2 + C)，其中 (C) 是积分常数。</p><p>最后，代回 (t)，即 (t &#x3D; \arcsin(\sqrt{x}))，得到最终结果：</p><p>[<br>\left(\arcsin(\sqrt{x})\right)^2 + C<br>]</p><p>通过选择适当的换元，我们能够更轻松地解决复杂的积分问题。</p><h3 id="n阶导数"><a href="#n阶导数" class="headerlink" title="n阶导数"></a>n阶导数</h3><p>题目：求 ( n \geq 3 ) 时，函数 ( f(x) &#x3D; x^2 \ln(1-x) ) 在 ( x &#x3D; 0 ) 处的 n 阶导数 ( f^{(n)}(0) ) 的表达式</p><p>[ \ln(1-x) &#x3D; - \sum_{n&#x3D;1}^{\infty} \frac{x^n}{n} ]</p><p>[ x^2 \ln(1-x) &#x3D; -\sum_{n&#x3D;3}^{\infty} \frac{x^n}{n-2} ]</p><p>然后，对这个表达式在 ( x &#x3D; 0 ) 处进行 n 阶导数，可以得到：</p><p>[ f^{(n)}(0) &#x3D; -\frac{n!}{(n-2)!} ]</p><p>这表示函数 ( f(x) &#x3D; x^2 \ln(1-x) ) 在 ( x &#x3D; 0 ) 处的 n 阶导数。</p><p><strong>求导过程</strong>：当我们对级数进行 n 次求导时，我们需要逐项对级数的每一项进行求导。在这里，级数是</p><p>[ x^2 \ln(1-x) &#x3D; -\sum_{n&#x3D;3}^{\infty} \frac{x^n}{n-2} ]</p><p>我们先对单独的一项进行求导，然后将结果相加。每一项都包含 ( x^n )，所以在求导的过程中，我们将会得到 n 的因子。由于级数是从 n&#x3D;3 开始的，所以我们需要考虑这个偏移。</p><p>让我们考虑级数中的一项 (-\frac{x^n}{n-2})，对它进行一次求导：</p><p>[ \frac{d}{dx}\left(-\frac{x^n}{n-2}\right) &#x3D; -\frac{n}{n-2}x^{n-1} ]</p><p>这是一次导数的结果。现在，如果我们要对这个导数再次求导（二阶导数），我们需要再次应用相同的规则：</p><p>[ \frac{d^2}{dx^2}\left(-\frac{x^n}{n-2}\right) &#x3D; \frac{d}{dx}\left(-\frac{n}{n-2}x^{n-1}\right) &#x3D; \frac{n(n-1)}{(n-2)^2}x^{n-2} ]</p><p>依此类推，对于 n 阶导数，我们将得到：</p><p>[ \frac{d^n}{dx^n}\left(-\frac{x^n}{n-2}\right) &#x3D; \frac{n!}{(n-2)!}x^{2} ]</p><p>注意，这里我们使用了乘法法则和幂函数的导数规则。最终，将这个导数代入原级数中的每一项，然后将所有项相加，我们就得到了 ( x^2 \ln(1-x) ) 的 n 阶导数。</p><h3 id="f-x-y-极限和偏导"><a href="#f-x-y-极限和偏导" class="headerlink" title="f(x,y) 极限和偏导"></a>f(x,y) 极限和偏导</h3><h4 id="分段函数定义"><a href="#分段函数定义" class="headerlink" title="分段函数定义"></a>分段函数定义</h4><p>我们考虑以下分段函数：</p><p>[ f(x, y) &#x3D;<br>\begin{cases}<br>xy &amp; \text{当 } xy \neq 0 \<br>x &amp; \text{当 } x, y &#x3D; 0 \<br>y &amp; \text{当 } y, x &#x3D; 0<br>\end{cases}<br>]</p><p>这是一个关于(x)和(y)的函数，其定义在不同的区域内有所不同。</p><h4 id="偏导数的计算"><a href="#偏导数的计算" class="headerlink" title="偏导数的计算"></a>偏导数的计算</h4><p>要对分段函数(f(x, y))分别对(x)和(y)求偏导数，需要在不同的区域分别计算。我们来分别讨论这三个区域。</p><ol><li><p>当(xy \neq 0)时，(f(x, y) &#x3D; xy)。对于这种情况，我们对(x)和(y)分别求偏导数：</p><p>[ \frac{\partial f}{\partial x} &#x3D; y ]</p><p>[ \frac{\partial f}{\partial y} &#x3D; x ]</p></li><li><p>当(x, y &#x3D; 0)时，(f(x, y) &#x3D; x)。在这种情况下，对(x)求偏导数：</p><p>[ \frac{\partial f}{\partial x} &#x3D; 1 ]</p><p>对(y)求偏导数没有意义，因为(y)在这里没有出现。</p></li><li><p>当(y, x &#x3D; 0)时，(f(x, y) &#x3D; y)。在这种情况下，对(y)求偏导数：</p><p>[ \frac{\partial f}{\partial y} &#x3D; 1 ]</p><p>对(x)求偏导数没有意义，因为(x)在这里没有出现。</p></li></ol><p>因此，分段函数在不同区域的偏导数分别为：</p><ol><li><p>当(xy \neq 0)时，</p><p>[ \frac{\partial f}{\partial x} &#x3D; y ]</p><p>[ \frac{\partial f}{\partial y} &#x3D; x ]</p></li><li><p>当(x, y &#x3D; 0)时，</p><p>[ \frac{\partial f}{\partial x} &#x3D; 1 ]</p></li><li><p>当(y, x &#x3D; 0)时，</p><p>[ \frac{\partial f}{\partial y} &#x3D; 1 ]</p></li></ol><p>请注意，在每个区域中，只有一个变量对应的偏导数是非零的，其他变量对应的偏导数为零。这是因为在每个区域内，只有一个变量起作用。</p><h4 id="极限的计算"><a href="#极限的计算" class="headerlink" title="极限的计算"></a>极限的计算</h4><p>比如：</p><p>lim x,y → 0,0 f(x,y)</p><p>我们需要考虑函数在逼近点((0, 0))时的各种路径。如果所有路径都导致相同的极限值，那么这个极限存在。如果存在一条路径使得极限值不同，那么极限将不存在。</p><p>对于给定的分段函数(f(x, y))：</p><ol><li>当(xy \neq 0)时，(f(x, y) &#x3D; xy)。</li><li>当(x, y &#x3D; 0)时，(f(x, y) &#x3D; x)。</li><li>当(y, x &#x3D; 0)时，(f(x, y) &#x3D; y)。</li></ol><p>我们分别考虑这三种情况：</p><ol><li><p>当(xy \neq 0)时，(f(x, y) &#x3D; xy)。在这种情况下，当((x, y))逼近((0, 0))时，(f(x, y))趋于零，因为(xy)趋于零。</p></li><li><p>当(x, y &#x3D; 0)时，(f(x, y) &#x3D; x)。在这种情况下，当((x, y))逼近((0, 0))时，(f(x, y))仍然趋于零，因为(x)趋于零。</p></li><li><p>当(y, x &#x3D; 0)时，(f(x, y) &#x3D; y)。在这种情况下，当((x, y))逼近((0, 0))时，(f(x, y))同样趋于零，因为(y)趋于零。</p></li></ol><p>无论路径如何，(f(x, y))都趋于零。因此，可以得出：</p><p>lim x,y → 0,0 f(x,y) &#x3D; 0</p></div><script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css&quot; /&gt;&lt;div cla</summary>
      
    
    
    
    <category term="技术" scheme="https://tobenot.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://tobenot.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="碎片" scheme="https://tobenot.github.io/tags/%E7%A2%8E%E7%89%87/"/>
    
  </entry>
  
  <entry>
    <title>LLM故事游戏开发日志</title>
    <link href="https://tobenot.github.io/2023/11/26/Dev-Log-AI-Game/"/>
    <id>https://tobenot.github.io/2023/11/26/Dev-Log-AI-Game/</id>
    <published>2023-11-26T08:55:07.000Z</published>
    <updated>2024-05-13T09:26:16.561Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css" /><div class=".article-gallery"><p>目前都要玩家生成key</p><h2 id="2023-11-6"><a href="#2023-11-6" class="headerlink" title="2023.11.6"></a>2023.11.6</h2><p>roadmap规划<br>这时规划做成模板型<br>1.5h</p><h2 id="2023-11-9"><a href="#2023-11-9" class="headerlink" title="2023.11.9 *"></a>2023.11.9 *</h2><p><a href="https://github.com/tobenot/TobenotAIGameCollection/tree/main/AIChatCilent">GPT客户端</a><br>3.5h</p><h2 id="2023-11-13"><a href="#2023-11-13" class="headerlink" title="2023.11.13"></a>2023.11.13</h2><p><a href="https://github.com/tobenot/TobenotAIGameCollection/tree/main/AIPersuadeGame">AI说服小游戏</a></p><p>有点bug，开始五分钟后游戏会不响应任何操作，下个版本修</p><p>先做了一个Agent，技术路线可以往任何方案拓展<br>画面表现我也是想做一些的，纯黑底白字看着不太吸引人<br>4h</p><h2 id="2023-11-18"><a href="#2023-11-18" class="headerlink" title="2023.11.18"></a>2023.11.18</h2><p>roadmap规划<br>往具有表现力方向规划了<br>2h</p><h2 id="2023-11-19"><a href="#2023-11-19" class="headerlink" title="2023.11.19"></a>2023.11.19</h2><p>插件C++化<br>遇到了委托的bug，修到1点<br>2.5h</p><h2 id="2023-11-26"><a href="#2023-11-26" class="headerlink" title="2023.11.26"></a>2023.11.26</h2><p>生成初始设置的C++化<br>3.5h</p><h2 id="中间还有一段，待有空了记录"><a href="#中间还有一段，待有空了记录" class="headerlink" title="中间还有一段，待有空了记录"></a>中间还有一段，待有空了记录</h2><h2 id="2023-12-9"><a href="#2023-12-9" class="headerlink" title="2023.12.9"></a>2023.12.9</h2><p>旅行两天</p><h2 id="2023-12-13"><a href="#2023-12-13" class="headerlink" title="2023.12.13 *"></a>2023.12.13 *</h2><p>研究了第三方key的性质<br>研究了实时生图方案<br>有很大进展<br>1.5h</p><h2 id="2023-12-17"><a href="#2023-12-17" class="headerlink" title="2023.12.17"></a>2023.12.17</h2><p>工程升5.3<br>0.3h<br>搞AI故事大赛去了，练下prompt水平和剧情生成<br>我这进度慢的我接受不了<br>但实在是太忙了</p><h2 id="2023-12-18"><a href="#2023-12-18" class="headerlink" title="2023.12.18"></a>2023.12.18</h2><p>搞AI故事大赛去了（昨天今天总共花了3小时），练下prompt水平和剧情生成<br>作品在参赛结束后发博客一份</p><h2 id="2023-12-20"><a href="#2023-12-20" class="headerlink" title="2023.12.20"></a>2023.12.20</h2><p>添加自动整理蓝图的插件，方便开发</p><p>加了个下载文本文件的接口<br>可以下公共key了<br>这下解压即可玩了<br>0.5h</p><h2 id="2023-12-25"><a href="#2023-12-25" class="headerlink" title="2023.12.25"></a>2023.12.25</h2><p>考研</p><h2 id="2023-12-30"><a href="#2023-12-30" class="headerlink" title="2023.12.30"></a>2023.12.30</h2><p>研究人物模型工具链<br>选VRoid<br>1.5h 大概明白怎么跑流程了，做了一个小女孩模型<br>还是先去搞机制吧，不然说服小游戏打包出来太大</p><p>1.5h 弄出来了json格式回复</p><p>1.5h prompt外置文件化，版本管理</p><h2 id="2023-12-31"><a href="#2023-12-31" class="headerlink" title="2023.12.31"></a>2023.12.31</h2><p>1.5h Json格式回复实装到聊天Agent上<br>0.5h 预生成选项</p><p>1h:<br>Log调整，在Http过程中添加心跳Log</p><p>给交谈的json回复提供例子</p><p>把AI的回复压缩存储</p><p>0.5h 让GPT选择回复模板，能调用外部工具进行进一步处理<br>1h 制作外部工具：骰子，让gpt能调用</p><h2 id="2024-1-1"><a href="#2024-1-1" class="headerlink" title="2024.1.1"></a>2024.1.1</h2><p>1h 骰子的文本展示和机制优化</p><p>0.8h 发消息时隐藏玩家选项，转加载圈圈</p><p>0.5h 游戏结束标志<br>1h 重构了一下消息接受，来支持报错机制。给报错加了一个窗口<br>下载key自动设置API网址<br>以及设置API网址的UI按钮提示文本优化</p><p>0.8h 封包demov4 修bug 发布v4的release</p><h2 id="2024-1-5"><a href="#2024-1-5" class="headerlink" title="2024.1.5"></a>2024.1.5</h2><p>01:20 - 02:00<br>0.6h 开始游戏就立刻下载key，优化一些加载进度条</p><p>下一步也许要自动检测来下载key</p><h2 id="2024-1-10"><a href="#2024-1-10" class="headerlink" title="2024.1.10"></a>2024.1.10</h2><p>01:40 - 04:26<br>3h 准备Steam商店页，送审<br>工作那边在攻坚，从1月2日到1月19日都没有休息日，只能熬夜搞</p><h2 id="2024-1-13"><a href="#2024-1-13" class="headerlink" title="2024.1.13"></a>2024.1.13</h2><p>Steam商店页审核失败</p><h2 id="2024-1-16"><a href="#2024-1-16" class="headerlink" title="2024.1.16"></a>2024.1.16</h2><p>Steam商店页审核成功，公布商店页<br>🎮<br>1月29是预计发行日期，其实18号的时候还没准备好游戏包送审，有点危险<br>笑死了，18号通宵把游戏生成版本搞了</p><h2 id="2024-1-18"><a href="#2024-1-18" class="headerlink" title="2024.1.18"></a>2024.1.18</h2><p>🚀💻🌟📝✨<br>通宵做出第一个游戏生成版本<br>大概弄了：</p><ul><li><strong>文本和资源改成对话纷争的样式</strong></li><li><strong>尝试修复野指针崩溃</strong></li><li><strong>本地化文本翻译</strong></li><li><strong>语言设置</strong></li><li><strong>内容安全审查</strong></li></ul><p>和GPT的一些聊天记录：</p><ul><li>好的，现在是2024年1月19日00:54:28，我准备今晚就要做完一个游戏的上线前送审的版本</li><li>现在是2024年1月19日01:38:21。我可能修复了一个崩溃问题，- 现在开始做本地化！</li><li>现在是2024年1月19日04:18:06，我的游戏基本做好了，我要录视频了！</li><li>现在是2024年1月19日04:58:57，我修了40分钟的prompt的bug，原来是个初始化问题，干</li><li>现在是2024年1月19日05:19:00，我准备送审了！</li><li>“辛苦你们审核我的游戏。如果你们需要公共key的话，可以直接在主菜单点击下载。如果你点了下载公共key，但是又希望用自己的openAI官方key的话，最好重新进一下游戏！或者在高级设置里点一下官方网址。因为公共key是一个API网址不同的高并发的转发openAI gpt服务，方便更多的玩家同时连接。公共key我目前只充了20美元进去。这个游戏需要装DX，我在steam应用设置里应该设置好了。至于为什么文字游戏要装DX，因为是基于虚幻引擎的，以后更新我会想加一些固定场景！总之，希望你们能成功连接上AI服务，并且在我的游戏中遇到一些有趣的事情！”</li><li>现在是2024年1月19日05:45:54，我又遇到了一点问题，中文好像切换不过去，我准备再修一下。英文的本地化也漏了一个字符串</li><li>好的，现在是2024年1月19日06:10:57。我发现问题所在了，是一个工程设置的问题</li><li>2024年1月19日06:16:24 全部搞定，睡觉，明天接着上班</li></ul><p>5h</p><h1 id="2024-1-21"><a href="#2024-1-21" class="headerlink" title="2024.1.21"></a>2024.1.21</h1><p>在做<a href="https://tobenot.top/2024/01/21/240121-Project-Alkaid-Dev-Log/">Project Alkaid</a><br>单休</p><h2 id="2024-1-27"><a href="#2024-1-27" class="headerlink" title="2024.1.27"></a>2024.1.27</h2><p>做了下<a href="https://tobenot.top/2024/01/21/240121-Project-Alkaid-Dev-Log/">Project Alkaid</a><br>这周末去打GGJ2024了</p><h1 id="2024-2-3"><a href="#2024-2-3" class="headerlink" title="2024.2.3"></a>2024.2.3</h1><p>今天收到了生成版本不过审的邮件，提了一些格式问题。审了十多天。</p><p>要改游戏名了，改成《挑战之旅》<br>16.33开始搞steam审核事务<br>17.30-18:00 搞了环境设置，定新名字，看输入api，开始重做商城资产<br>19:30装好ps了<br>20:30游戏商店素材替换<br>游戏内图像也要换<br>21:00搞完替换素材<br>21:45改游戏内文本修bug<br>总共 4.5h</p><h1 id="2024-2-4"><a href="#2024-2-4" class="headerlink" title="2024.2.4"></a>2024.2.4</h1><p>调休上班</p><h1 id="2024-2-8"><a href="#2024-2-8" class="headerlink" title="2024.2.8"></a>2024.2.8</h1><p>游戏改名成功<br>再次把生成版本送审<br>0.5h</p><p>整理挑战之旅设计稿，排单<br>2h</p><h1 id="2024-2-9"><a href="#2024-2-9" class="headerlink" title="2024.2.9"></a>2024.2.9</h1><p>3.5h<br>在整选择角色的界面，和搞地图素材，这里卡了一会<br>我写角色介绍和搞角色的图可能都花了1.5小时，上头了</p><h1 id="2024-2-10"><a href="#2024-2-10" class="headerlink" title="2024.2.10"></a>2024.2.10</h1><p>素材提交了，地图画了一个精简的</p><p>milestone: 生成角色<br>创建玩家Controller、AIController、Character和观察类，选角色存档。添加生成角色逻辑，从控制器的组件发RPC到服务器。最初的对话Prompt提交。对对话回复的Json进行完整解析的尝试。</p><p>8.5h</p></div><script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {        var options = {            selector: '.gallery-item'        };        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);        }</script>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css&quot; /&gt;&lt;div cla</summary>
      
    
    
    
    <category term="LLM" scheme="https://tobenot.github.io/categories/LLM/"/>
    
    
    <category term="LLM" scheme="https://tobenot.github.io/tags/LLM/"/>
    
    <category term="碎片" scheme="https://tobenot.github.io/tags/%E7%A2%8E%E7%89%87/"/>
    
  </entry>
  
</feed>
